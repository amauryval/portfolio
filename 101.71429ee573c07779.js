(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[101],{2402:function(Ct){Ct.exports=function(){"use strict";function ft(e,r,h,f,L){!function T(g,_,x,Z,b){for(;Z>x;){if(Z-x>600){var Y=Z-x+1,k=_-x+1,it=Math.log(Y),et=.5*Math.exp(2*it/3),q=.5*Math.sqrt(it*et*(Y-et)/Y)*(k-Y/2<0?-1:1);T(g,_,Math.max(x,Math.floor(_-k*et/Y+q)),Math.min(Z,Math.floor(_+(Y-k)*et/Y+q)),b)}var p=g[_],w=x,J=Z;for(y(g,x,_),b(g[Z],p)>0&&y(g,x,Z);w<J;){for(y(g,w,J),w++,J--;b(g[w],p)<0;)w++;for(;b(g[J],p)>0;)J--}0===b(g[x],p)?y(g,x,J):y(g,++J,Z),J<=_&&(x=J+1),_<=J&&(Z=J-1)}}(e,r,h||0,f||e.length-1,L||U)}function y(e,r,h){var f=e[r];e[r]=e[h],e[h]=f}function U(e,r){return e<r?-1:e>r?1:0}var $=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function D(e,r,h){if(!h)return r.indexOf(e);for(var f=0;f<r.length;f++)if(h(e,r[f]))return f;return-1}function P(e,r){M(e,0,e.children.length,r,e)}function M(e,r,h,f,L){L||(L=S(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var T=r;T<h;T++){var g=e.children[T];C(L,e.leaf?f(g):g)}return L}function C(e,r){return e.minX=Math.min(e.minX,r.minX),e.minY=Math.min(e.minY,r.minY),e.maxX=Math.max(e.maxX,r.maxX),e.maxY=Math.max(e.maxY,r.maxY),e}function V(e,r){return e.minX-r.minX}function Q(e,r){return e.minY-r.minY}function W(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function B(e){return e.maxX-e.minX+(e.maxY-e.minY)}function R(e,r){return e.minX<=r.minX&&e.minY<=r.minY&&r.maxX<=e.maxX&&r.maxY<=e.maxY}function F(e,r){return r.minX<=e.maxX&&r.minY<=e.maxY&&r.maxX>=e.minX&&r.maxY>=e.minY}function S(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(e,r,h,f,L){for(var T=[r,h];T.length;)if(!((h=T.pop())-(r=T.pop())<=f)){var g=r+Math.ceil((h-r)/f/2)*f;ft(e,g,r,h,L),T.push(r,g,g,h)}}return $.prototype.all=function(){return this._all(this.data,[])},$.prototype.search=function(e){var r=this.data,h=[];if(!F(e,r))return h;for(var f=this.toBBox,L=[];r;){for(var T=0;T<r.children.length;T++){var g=r.children[T],_=r.leaf?f(g):g;F(e,_)&&(r.leaf?h.push(g):R(e,_)?this._all(g,h):L.push(g))}r=L.pop()}return h},$.prototype.collides=function(e){var r=this.data;if(!F(e,r))return!1;for(var h=[];r;){for(var f=0;f<r.children.length;f++){var L=r.children[f],T=r.leaf?this.toBBox(L):L;if(F(e,T)){if(r.leaf||R(e,T))return!0;h.push(L)}}r=h.pop()}return!1},$.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var r=0;r<e.length;r++)this.insert(e[r]);return this}var h=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var f=this.data;this.data=h,h=f}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},$.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},$.prototype.clear=function(){return this.data=S([]),this},$.prototype.remove=function(e,r){if(!e)return this;for(var h,f,L,T=this.data,g=this.toBBox(e),_=[],x=[];T||_.length;){if(T||(T=_.pop(),f=_[_.length-1],h=x.pop(),L=!0),T.leaf){var Z=D(e,T.children,r);if(-1!==Z)return T.children.splice(Z,1),_.push(T),this._condense(_),this}L||T.leaf||!R(T,g)?f?(h++,T=f.children[h],L=!1):T=null:(_.push(T),x.push(h),h=0,f=T,T=T.children[0])}return this},$.prototype.toBBox=function(e){return e},$.prototype.compareMinX=function(e,r){return e.minX-r.minX},$.prototype.compareMinY=function(e,r){return e.minY-r.minY},$.prototype.toJSON=function(){return this.data},$.prototype.fromJSON=function(e){return this.data=e,this},$.prototype._all=function(e,r){for(var h=[];e;)e.leaf?r.push.apply(r,e.children):h.push.apply(h,e.children),e=h.pop();return r},$.prototype._build=function(e,r,h,f){var L,T=h-r+1,g=this._maxEntries;if(T<=g)return P(L=S(e.slice(r,h+1)),this.toBBox),L;f||(f=Math.ceil(Math.log(T)/Math.log(g)),g=Math.ceil(T/Math.pow(g,f-1))),(L=S([])).leaf=!1,L.height=f;var _=Math.ceil(T/g),x=_*Math.ceil(Math.sqrt(g));d(e,r,h,x,this.compareMinX);for(var Z=r;Z<=h;Z+=x){var b=Math.min(Z+x-1,h);d(e,Z,b,_,this.compareMinY);for(var Y=Z;Y<=b;Y+=_){var k=Math.min(Y+_-1,b);L.children.push(this._build(e,Y,k,f-1))}}return P(L,this.toBBox),L},$.prototype._chooseSubtree=function(e,r,h,f){for(;f.push(r),!r.leaf&&f.length-1!==h;){for(var L=1/0,T=1/0,g=void 0,_=0;_<r.children.length;_++){var x=r.children[_],Z=W(x),b=(Y=e,k=x,(Math.max(k.maxX,Y.maxX)-Math.min(k.minX,Y.minX))*(Math.max(k.maxY,Y.maxY)-Math.min(k.minY,Y.minY))-Z);b<T?(T=b,L=Z<L?Z:L,g=x):b===T&&Z<L&&(L=Z,g=x)}r=g||r.children[0]}var Y,k;return r},$.prototype._insert=function(e,r,h){var f=h?e:this.toBBox(e),L=[],T=this._chooseSubtree(f,this.data,r,L);for(T.children.push(e),C(T,f);r>=0&&L[r].children.length>this._maxEntries;)this._split(L,r),r--;this._adjustParentBBoxes(f,L,r)},$.prototype._split=function(e,r){var h=e[r],f=h.children.length,L=this._minEntries;this._chooseSplitAxis(h,L,f);var T=this._chooseSplitIndex(h,L,f),g=S(h.children.splice(T,h.children.length-T));g.height=h.height,g.leaf=h.leaf,P(h,this.toBBox),P(g,this.toBBox),r?e[r-1].children.push(g):this._splitRoot(h,g)},$.prototype._splitRoot=function(e,r){this.data=S([e,r]),this.data.height=e.height+1,this.data.leaf=!1,P(this.data,this.toBBox)},$.prototype._chooseSplitIndex=function(e,r,h){for(var f,L,T,g,_,x,Z,b=1/0,Y=1/0,k=r;k<=h-r;k++){var it=M(e,0,k,this.toBBox),et=M(e,k,h,this.toBBox),q=(L=it,T=et,void 0,void 0,void 0,void 0,g=Math.max(L.minX,T.minX),_=Math.max(L.minY,T.minY),x=Math.min(L.maxX,T.maxX),Z=Math.min(L.maxY,T.maxY),Math.max(0,x-g)*Math.max(0,Z-_)),j=W(it)+W(et);q<b?(b=q,f=k,Y=j<Y?j:Y):q===b&&j<Y&&(Y=j,f=k)}return f||h-r},$.prototype._chooseSplitAxis=function(e,r,h){var f=e.leaf?this.compareMinX:V,L=e.leaf?this.compareMinY:Q;this._allDistMargin(e,r,h,f)<this._allDistMargin(e,r,h,L)&&e.children.sort(f)},$.prototype._allDistMargin=function(e,r,h,f){e.children.sort(f);for(var L=this.toBBox,T=M(e,0,r,L),g=M(e,h-r,h,L),_=B(T)+B(g),x=r;x<h-r;x++){var Z=e.children[x];C(T,e.leaf?L(Z):Z),_+=B(T)}for(var b=h-r-1;b>=r;b--){var Y=e.children[b];C(g,e.leaf?L(Y):Y),_+=B(g)}return _},$.prototype._adjustParentBBoxes=function(e,r,h){for(var f=h;f>=0;f--)C(r[f],e)},$.prototype._condense=function(e){for(var r=e.length-1,h=void 0;r>=0;r--)0===e[r].children.length?r>0?(h=e[r-1].children).splice(h.indexOf(e[r]),1):this.clear():P(e[r],this.toBBox)},$}()},3171:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>Q});var W,U=y(3632),$=y(9972),D=y(1911),P=y(1729),M=(W=function(B,R){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,S){F.__proto__=S}||function(F,S){for(var d in S)Object.prototype.hasOwnProperty.call(S,d)&&(F[d]=S[d])})(B,R)},function(B,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function F(){this.constructor=B}W(B,R),B.prototype=null===R?Object.create(R):(F.prototype=R.prototype,new F)}),C=function(W){function B(R){var F=W.call(this)||this;return F.id_=void 0,F.geometryName_="geometry",F.style_=null,F.styleFunction_=void 0,F.geometryChangeKey_=null,F.addChangeListener(F.geometryName_,F.handleGeometryChanged_),R&&("function"==typeof R.getSimplifiedGeometry?F.setGeometry(R):F.setProperties(R)),F}return M(B,W),B.prototype.clone=function(){var R=new B(this.hasProperties()?this.getProperties():null);R.setGeometryName(this.getGeometryName());var F=this.getGeometry();F&&R.setGeometry(F.clone());var S=this.getStyle();return S&&R.setStyle(S),R},B.prototype.getGeometry=function(){return this.get(this.geometryName_)},B.prototype.getId=function(){return this.id_},B.prototype.getGeometryName=function(){return this.geometryName_},B.prototype.getStyle=function(){return this.style_},B.prototype.getStyleFunction=function(){return this.styleFunction_},B.prototype.handleGeometryChange_=function(){this.changed()},B.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,P.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var R=this.getGeometry();R&&(this.geometryChangeKey_=(0,P.oL)(R,$.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},B.prototype.setGeometry=function(R){this.set(this.geometryName_,R)},B.prototype.setStyle=function(R){this.style_=R,this.styleFunction_=R?function V(W){return"function"==typeof W?W:(Array.isArray(W)?B=W:((0,D.h)("function"==typeof W.getZIndex,41),B=[W]),function(){return B});var B}(R):void 0,this.changed()},B.prototype.setId=function(R){this.id_=R,this.changed()},B.prototype.setGeometryName=function(R){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=R,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},B}(U.Z);const Q=C},5813:(Ct,ft,y)=>{"use strict";y.d(ft,{y:()=>$});var U=y(3783);function $(D){return Array.isArray(D)?(0,U.BB)(D):D}},5569:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>U});const U={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},3343:(Ct,ft,y)=>{"use strict";function U(D,P,M,C){for(var V=D[P],Q=D[P+1],W=0,B=P+C;B<M;B+=C){var R=D[B],F=D[B+1];W+=Math.sqrt((R-V)*(R-V)+(F-Q)*(F-Q)),V=R,Q=F}return W}y.d(ft,{W:()=>U})},4511:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>Q});var W,U=y(4593),$=y(2402),D=y(9466),P=y(109),M=(W=function(B,R){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,S){F.__proto__=S}||function(F,S){for(var d in S)Object.prototype.hasOwnProperty.call(S,d)&&(F[d]=S[d])})(B,R)},function(B,R){if("function"!=typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function F(){this.constructor=B}W(B,R),B.prototype=null===R?Object.create(R):(F.prototype=R.prototype,new F)}),V=function(W){function B(R){var F=this,S=R||{},d=(0,D.f0)({},S);return delete d.style,delete d.renderBuffer,delete d.updateWhileAnimating,delete d.updateWhileInteracting,(F=W.call(this,d)||this).declutter_=void 0!==S.declutter&&S.declutter,F.renderBuffer_=void 0!==S.renderBuffer?S.renderBuffer:100,F.style_=null,F.styleFunction_=void 0,F.setStyle(S.style),F.updateWhileAnimating_=void 0!==S.updateWhileAnimating&&S.updateWhileAnimating,F.updateWhileInteracting_=void 0!==S.updateWhileInteracting&&S.updateWhileInteracting,F}return M(B,W),B.prototype.getDeclutter=function(){return this.declutter_},B.prototype.getFeatures=function(R){return W.prototype.getFeatures.call(this,R)},B.prototype.getRenderBuffer=function(){return this.renderBuffer_},B.prototype.getRenderOrder=function(){return this.get("renderOrder")},B.prototype.getStyle=function(){return this.style_},B.prototype.getStyleFunction=function(){return this.styleFunction_},B.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},B.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},B.prototype.renderDeclutter=function(R){R.declutterTree||(R.declutterTree=new $(9)),this.getRenderer().renderDeclutter(R)},B.prototype.setRenderOrder=function(R){this.set("renderOrder",R)},B.prototype.setStyle=function(R){this.style_=void 0!==R?R:P.yF,this.styleFunction_=null===R?void 0:(0,P.J$)(this.style_),this.changed()},B}(U.Z);const Q=V},7639:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>$});const $=function(){function D(){}return D.prototype.drawCustom=function(P,M,C,V){},D.prototype.drawGeometry=function(P){},D.prototype.setStyle=function(P){},D.prototype.drawCircle=function(P,M){},D.prototype.drawFeature=function(P,M){},D.prototype.drawGeometryCollection=function(P,M){},D.prototype.drawLineString=function(P,M){},D.prototype.drawMultiLineString=function(P,M){},D.prototype.drawMultiPoint=function(P,M){},D.prototype.drawMultiPolygon=function(P,M){},D.prototype.drawPoint=function(P,M){},D.prototype.drawPolygon=function(P,M){},D.prototype.drawText=function(P,M){},D.prototype.setFillStrokeStyle=function(P,M){},D.prototype.setImageStyle=function(P,M){},D.prototype.setTextStyle=function(P,M){},D}()},9555:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>U});const U={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},3620:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>F});var S,U=y(4410),$=y(7639),D=y(5813),P=y(483),M=y(4686),C=y(2456),V=y(760),Q=y(874),W=y(2774),B=(S=function(d,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(r[f]=h[f])})(d,e)},function(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=d}S(d,e),d.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),R=function(S){function d(e,r,h,f,L,T,g){var _=S.call(this)||this;return _.context_=e,_.pixelRatio_=r,_.extent_=h,_.transform_=f,_.viewRotation_=L,_.squaredTolerance_=T,_.userTransform_=g,_.contextFillState_=null,_.contextStrokeState_=null,_.contextTextState_=null,_.fillState_=null,_.strokeState_=null,_.image_=null,_.imageAnchorX_=0,_.imageAnchorY_=0,_.imageHeight_=0,_.imageOpacity_=0,_.imageOriginX_=0,_.imageOriginY_=0,_.imageRotateWithView_=!1,_.imageRotation_=0,_.imageScale_=[0,0],_.imageWidth_=0,_.text_="",_.textOffsetX_=0,_.textOffsetY_=0,_.textRotateWithView_=!1,_.textRotation_=0,_.textScale_=[0,0],_.textFillState_=null,_.textStrokeState_=null,_.textState_=null,_.pixelCoordinates_=[],_.tmpLocalTransform_=(0,P.Ue)(),_}return B(d,S),d.prototype.drawImages_=function(e,r,h,f){if(this.image_){var L=(0,Q.vT)(e,r,h,f,this.transform_,this.pixelCoordinates_),T=this.context_,g=this.tmpLocalTransform_,_=T.globalAlpha;1!=this.imageOpacity_&&(T.globalAlpha=_*this.imageOpacity_);var x=this.imageRotation_;this.imageRotateWithView_&&(x+=this.viewRotation_);for(var Z=0,b=L.length;Z<b;Z+=2){var Y=L[Z]-this.imageAnchorX_,k=L[Z+1]-this.imageAnchorY_;if(0!==x||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var it=Y+this.imageAnchorX_,et=k+this.imageAnchorY_;(0,P.qC)(g,it,et,1,1,x,-it,-et),T.setTransform.apply(T,g),T.translate(it,et),T.scale(this.imageScale_[0],this.imageScale_[1]),T.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),T.setTransform(1,0,0,1,0,0)}else T.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,Y,k,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(T.globalAlpha=_)}},d.prototype.drawText_=function(e,r,h,f){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var L=(0,Q.vT)(e,r,h,f,this.transform_,this.pixelCoordinates_),T=this.context_,g=this.textRotation_;for(this.textRotateWithView_&&(g+=this.viewRotation_);r<h;r+=f){var _=L[r]+this.textOffsetX_,x=L[r+1]+this.textOffsetY_;if(0!==g||1!=this.textScale_[0]||1!=this.textScale_[1]){var Z=(0,P.qC)(this.tmpLocalTransform_,_,x,1,1,g,-_,-x);T.setTransform.apply(T,Z),T.translate(_,x),T.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&T.strokeText(this.text_,0,0),this.textFillState_&&T.fillText(this.text_,0,0),T.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&T.strokeText(this.text_,_,x),this.textFillState_&&T.fillText(this.text_,_,x)}}},d.prototype.moveToLineTo_=function(e,r,h,f,L){var T=this.context_,g=(0,Q.vT)(e,r,h,f,this.transform_,this.pixelCoordinates_);T.moveTo(g[0],g[1]);var _=g.length;L&&(_-=2);for(var x=2;x<_;x+=2)T.lineTo(g[x],g[x+1]);return L&&T.closePath(),h},d.prototype.drawRings_=function(e,r,h,f){for(var L=0,T=h.length;L<T;++L)r=this.moveToLineTo_(e,r,h[L],f,!0);return r},d.prototype.drawCircle=function(e){if((0,V.kK)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=(0,W.Kr)(e,this.transform_,this.pixelCoordinates_),h=r[2]-r[0],f=r[3]-r[1],L=Math.sqrt(h*h+f*f),T=this.context_;T.beginPath(),T.arc(r[0],r[1],L,0,2*Math.PI),this.fillState_&&T.fill(),this.strokeState_&&T.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},d.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},d.prototype.setTransform=function(e){this.transform_=e},d.prototype.drawGeometry=function(e){switch(e.getType()){case U.Z.POINT:this.drawPoint(e);break;case U.Z.LINE_STRING:this.drawLineString(e);break;case U.Z.POLYGON:this.drawPolygon(e);break;case U.Z.MULTI_POINT:this.drawMultiPoint(e);break;case U.Z.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case U.Z.MULTI_POLYGON:this.drawMultiPolygon(e);break;case U.Z.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case U.Z.CIRCLE:this.drawCircle(e)}},d.prototype.drawFeature=function(e,r){var h=r.getGeometryFunction()(e);!h||!(0,V.kK)(this.extent_,h.getExtent())||(this.setStyle(r),this.drawGeometry(h))},d.prototype.drawGeometryCollection=function(e){for(var r=e.getGeometriesArray(),h=0,f=r.length;h<f;++h)this.drawGeometry(r[h])},d.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),h=e.getStride();this.image_&&this.drawImages_(r,0,r.length,h),""!==this.text_&&this.drawText_(r,0,r.length,h)},d.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),h=e.getStride();this.image_&&this.drawImages_(r,0,r.length,h),""!==this.text_&&this.drawText_(r,0,r.length,h)},d.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,V.kK)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,h=e.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(h,0,h.length,e.getStride(),!1),r.stroke()}if(""!==this.text_){var f=e.getFlatMidpoint();this.drawText_(f,0,2,2)}}},d.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getExtent();if((0,V.kK)(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var h=this.context_,f=e.getFlatCoordinates(),L=0,T=e.getEnds(),g=e.getStride();h.beginPath();for(var _=0,x=T.length;_<x;++_)L=this.moveToLineTo_(f,L,T[_],g,!1);h.stroke()}if(""!==this.text_){var Z=e.getFlatMidpoints();this.drawText_(Z,0,Z.length,2)}}},d.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,V.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var h=e.getFlatInteriorPoint();this.drawText_(h,0,2,2)}}},d.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,V.kK)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,h=e.getOrientedFlatCoordinates(),f=0,L=e.getEndss(),T=e.getStride();r.beginPath();for(var g=0,_=L.length;g<_;++g)f=this.drawRings_(h,f,L[g],T);this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var Z=e.getFlatInteriorPoints();this.drawText_(Z,0,Z.length,2)}}},d.prototype.setContextFillState_=function(e){var r=this.context_,h=this.contextFillState_;h?h.fillStyle!=e.fillStyle&&(h.fillStyle=e.fillStyle,r.fillStyle=e.fillStyle):(r.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},d.prototype.setContextStrokeState_=function(e){var r=this.context_,h=this.contextStrokeState_;h?(h.lineCap!=e.lineCap&&(h.lineCap=e.lineCap,r.lineCap=e.lineCap),r.setLineDash&&((0,C.fS)(h.lineDash,e.lineDash)||r.setLineDash(h.lineDash=e.lineDash),h.lineDashOffset!=e.lineDashOffset&&(h.lineDashOffset=e.lineDashOffset,r.lineDashOffset=e.lineDashOffset)),h.lineJoin!=e.lineJoin&&(h.lineJoin=e.lineJoin,r.lineJoin=e.lineJoin),h.lineWidth!=e.lineWidth&&(h.lineWidth=e.lineWidth,r.lineWidth=e.lineWidth),h.miterLimit!=e.miterLimit&&(h.miterLimit=e.miterLimit,r.miterLimit=e.miterLimit),h.strokeStyle!=e.strokeStyle&&(h.strokeStyle=e.strokeStyle,r.strokeStyle=e.strokeStyle)):(r.lineCap=e.lineCap,r.setLineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.lineWidth=e.lineWidth,r.miterLimit=e.miterLimit,r.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},d.prototype.setContextTextState_=function(e){var r=this.context_,h=this.contextTextState_,f=e.textAlign?e.textAlign:M.PH;h?(h.font!=e.font&&(h.font=e.font,r.font=e.font),h.textAlign!=f&&(h.textAlign=f,r.textAlign=f),h.textBaseline!=e.textBaseline&&(h.textBaseline=e.textBaseline,r.textBaseline=e.textBaseline)):(r.font=e.font,r.textAlign=f,r.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:f,textBaseline:e.textBaseline})},d.prototype.setFillStrokeStyle=function(e,r){var h=this;if(e){var f=e.getColor();this.fillState_={fillStyle:(0,D.y)(f||M.bL)}}else this.fillState_=null;if(r){var L=r.getColor(),T=r.getLineCap(),g=r.getLineDash(),_=r.getLineDashOffset(),x=r.getLineJoin(),Z=r.getWidth(),b=r.getMiterLimit(),Y=g||M.X9;this.strokeState_={lineCap:void 0!==T?T:M.mb,lineDash:1===this.pixelRatio_?Y:Y.map(function(k){return k*h.pixelRatio_}),lineDashOffset:(_||M.He)*this.pixelRatio_,lineJoin:void 0!==x?x:M.rc,lineWidth:(void 0!==Z?Z:M.yC)*this.pixelRatio_,miterLimit:void 0!==b?b:M.V4,strokeStyle:(0,D.y)(L||M.Tx)}}else this.strokeState_=null},d.prototype.setImageStyle=function(e){var r;if(e&&(r=e.getSize())){var h=e.getAnchor(),f=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=h[0]*this.pixelRatio_,this.imageAnchorY_=h[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=f[0],this.imageOriginY_=f[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_}else this.image_=null},d.prototype.setTextStyle=function(e){if(e){var r=e.getFill();if(r){var h=r.getColor();this.textFillState_={fillStyle:(0,D.y)(h||M.bL)}}else this.textFillState_=null;var f=e.getStroke();if(f){var L=f.getColor(),T=f.getLineCap(),g=f.getLineDash(),_=f.getLineDashOffset(),x=f.getLineJoin(),Z=f.getWidth(),b=f.getMiterLimit();this.textStrokeState_={lineCap:void 0!==T?T:M.mb,lineDash:g||M.X9,lineDashOffset:_||M.He,lineJoin:void 0!==x?x:M.rc,lineWidth:void 0!==Z?Z:M.yC,miterLimit:void 0!==b?b:M.V4,strokeStyle:(0,D.y)(L||M.Tx)}}else this.textStrokeState_=null;var Y=e.getFont(),k=e.getOffsetX(),it=e.getOffsetY(),et=e.getRotateWithView(),q=e.getRotation(),j=e.getScaleArray(),I=e.getText(),p=e.getTextAlign(),w=e.getTextBaseline();this.textState_={font:void 0!==Y?Y:M.Df,textAlign:void 0!==p?p:M.PH,textBaseline:void 0!==w?w:M.ru},this.text_=void 0!==I?Array.isArray(I)?I.reduce(function(J,rt,at){return J+(at%2?" ":rt)},""):I:"",this.textOffsetX_=void 0!==k?this.pixelRatio_*k:0,this.textOffsetY_=void 0!==it?this.pixelRatio_*it:0,this.textRotateWithView_=void 0!==et&&et,this.textRotation_=void 0!==q?q:0,this.textScale_=[this.pixelRatio_*j[0],this.pixelRatio_*j[1]]}else this.text_=""},d}($.Z);const F=R},8707:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>yi});var U={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$=[U.FILL],D=[U.STROKE],P=[U.BEGIN_PATH],M=[U.CLOSE_PATH];const C=U;var E,V=y(4410),Q=y(2401),W=y(7639),B=y(5813),R=y(760),F=y(4686),S=y(2456),d=y(392),e=(E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)},function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=function(E){function a(t,n,i,s){var o=E.call(this)||this;return o.tolerance=t,o.maxExtent=n,o.pixelRatio=s,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return e(a,E),a.prototype.applyPixelRatio=function(t){var n=this.pixelRatio;return 1==n?t:t.map(function(i){return i*n})},a.prototype.appendFlatPointCoordinates=function(t,n){for(var i=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,o=this.coordinates,u=o.length,l=0,v=t.length;l<v;l+=n)s[0]=t[l],s[1]=t[l+1],(0,R.b8)(i,s)&&(o[u++]=s[0],o[u++]=s[1]);return u},a.prototype.appendFlatLineCoordinates=function(t,n,i,s,o,u){var l=this.coordinates,v=l.length,c=this.getBufferedMaxExtent();u&&(n+=s);var N,K,z,O=t[n],m=t[n+1],A=this.tmpCoordinate_,G=!0;for(N=n+s;N<i;N+=s)A[0]=t[N],A[1]=t[N+1],(z=(0,R.pX)(c,A))!==K?(G&&(l[v++]=O,l[v++]=m,G=!1),l[v++]=A[0],l[v++]=A[1]):z===Q.Z.INTERSECTING?(l[v++]=A[0],l[v++]=A[1],G=!1):G=!0,O=A[0],m=A[1],K=z;return(o&&G||N===n+s)&&(l[v++]=O,l[v++]=m),v},a.prototype.drawCustomCoordinates_=function(t,n,i,s,o){for(var u=0,l=i.length;u<l;++u){var v=i[u],c=this.appendFlatLineCoordinates(t,n,v,s,!1,!1);o.push(c),n=v}return n},a.prototype.drawCustom=function(t,n,i,s){this.beginGeometry(t,n);var v,c,O,m,A,o=t.getType(),u=t.getStride(),l=this.coordinates.length;switch(o){case V.Z.MULTI_POLYGON:v=t.getOrientedFlatCoordinates(),m=[];var G=t.getEndss();A=0;for(var N=0,K=G.length;N<K;++N){var z=[];A=this.drawCustomCoordinates_(v,A,G[N],u,z),m.push(z)}this.instructions.push([C.CUSTOM,l,m,t,i,d.ug]),this.hitDetectionInstructions.push([C.CUSTOM,l,m,t,s||i,d.ug]);break;case V.Z.POLYGON:case V.Z.MULTI_LINE_STRING:O=[],v=o==V.Z.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),A=this.drawCustomCoordinates_(v,0,t.getEnds(),u,O),this.instructions.push([C.CUSTOM,l,O,t,i,d.o1]),this.hitDetectionInstructions.push([C.CUSTOM,l,O,t,s||i,d.o1]);break;case V.Z.LINE_STRING:case V.Z.CIRCLE:v=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(v,0,v.length,u,!1,!1),this.instructions.push([C.CUSTOM,l,c,t,i,d.Ml]),this.hitDetectionInstructions.push([C.CUSTOM,l,c,t,s||i,d.Ml]);break;case V.Z.MULTI_POINT:v=t.getFlatCoordinates(),(c=this.appendFlatPointCoordinates(v,u))>l&&(this.instructions.push([C.CUSTOM,l,c,t,i,d.Ml]),this.hitDetectionInstructions.push([C.CUSTOM,l,c,t,s||i,d.Ml]));break;case V.Z.POINT:v=t.getFlatCoordinates(),this.coordinates.push(v[0],v[1]),this.instructions.push([C.CUSTOM,l,c=this.coordinates.length,t,i]),this.hitDetectionInstructions.push([C.CUSTOM,l,c,t,s||i])}this.endGeometry(n)},a.prototype.beginGeometry=function(t,n){this.beginGeometryInstruction1_=[C.BEGIN_GEOMETRY,n,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[C.BEGIN_GEOMETRY,n,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},a.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},a.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var n,s,o,i=t.length,u=-1;for(n=0;n<i;++n)(o=(s=t[n])[0])==C.END_GEOMETRY?u=n:o==C.BEGIN_GEOMETRY&&(s[2]=n,(0,S.FZ)(this.hitDetectionInstructions,u,n),u=-1)},a.prototype.setFillStrokeStyle=function(t,n){var i=this.state;if(t){var s=t.getColor();i.fillStyle=(0,B.y)(s||F.bL)}else i.fillStyle=void 0;if(n){var o=n.getColor();i.strokeStyle=(0,B.y)(o||F.Tx);var u=n.getLineCap();i.lineCap=void 0!==u?u:F.mb;var l=n.getLineDash();i.lineDash=l?l.slice():F.X9;var v=n.getLineDashOffset();i.lineDashOffset=v||F.He;var c=n.getLineJoin();i.lineJoin=void 0!==c?c:F.rc;var O=n.getWidth();i.lineWidth=void 0!==O?O:F.yC;var m=n.getMiterLimit();i.miterLimit=void 0!==m?m:F.V4,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},a.prototype.createFill=function(t){var n=t.fillStyle,i=[C.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},a.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},a.prototype.createStroke=function(t){return[C.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},a.prototype.updateFillStyle=function(t,n){var i=t.fillStyle;("string"!=typeof i||t.currentFillStyle!=i)&&(void 0!==i&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)},a.prototype.updateStrokeStyle=function(t,n){var i=t.strokeStyle,s=t.lineCap,o=t.lineDash,u=t.lineDashOffset,l=t.lineJoin,v=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=s||o!=t.currentLineDash&&!(0,S.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=u||t.currentLineJoin!=l||t.currentLineWidth!=v||t.currentMiterLimit!=c)&&(void 0!==i&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=s,t.currentLineDash=o,t.currentLineDashOffset=u,t.currentLineJoin=l,t.currentLineWidth=v,t.currentMiterLimit=c)},a.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[C.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)},a.prototype.getBufferedMaxExtent=function(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,R.d9)(this.maxExtent),this.maxLineWidth>0)&&(0,R.f3)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_},a}(W.Z);const h=r;var f=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),L=function(E){function a(t,n,i,s){var o=E.call(this,t,n,i,s)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return f(a,E),a.prototype.drawPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),s=t.getStride(),o=this.coordinates.length,u=this.appendFlatPointCoordinates(i,s);this.instructions.push([C.DRAW_IMAGE,o,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([C.DRAW_IMAGE,o,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},a.prototype.drawMultiPoint=function(t,n){if(this.image_){this.beginGeometry(t,n);var i=t.getFlatCoordinates(),s=t.getStride(),o=this.coordinates.length,u=this.appendFlatPointCoordinates(i,s);this.instructions.push([C.DRAW_IMAGE,o,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([C.DRAW_IMAGE,o,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(n)}},a.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,E.prototype.finish.call(this)},a.prototype.setImageStyle=function(t,n){var i=t.getAnchor(),s=t.getSize(),o=t.getHitDetectionImage(),u=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=o,this.image_=u,this.height_=s[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=s[0],this.declutterImageWithText_=n},a}(h);const T=L;var g=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),_=function(E){function a(t,n,i,s){return E.call(this,t,n,i,s)||this}return g(a,E),a.prototype.drawFlatCoordinates_=function(t,n,i,s){var o=this.coordinates.length,u=this.appendFlatLineCoordinates(t,n,i,s,!1,!1),l=[C.MOVE_TO_LINE_TO,o,u];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i},a.prototype.drawLineString=function(t,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,F.X9,F.He],P);var u=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(u,0,u.length,l),this.hitDetectionInstructions.push(D),this.endGeometry(n)}},a.prototype.drawMultiLineString=function(t,n){var i=this.state;if(void 0!==i.strokeStyle&&void 0!==i.lineWidth){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],P);for(var u=t.getEnds(),l=t.getFlatCoordinates(),v=t.getStride(),c=0,O=0,m=u.length;O<m;++O)c=this.drawFlatCoordinates_(l,c,u[O],v);this.hitDetectionInstructions.push(D),this.endGeometry(n)}},a.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(D),this.reverseHitDetectionInstructions(),this.state=null,E.prototype.finish.call(this)},a.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(D),t.lastStroke=this.coordinates.length),t.lastStroke=0,E.prototype.applyStroke.call(this,t),this.instructions.push(P)},a}(h);const x=_;var Z=y(9182),b=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y=function(E){function a(t,n,i,s){return E.call(this,t,n,i,s)||this}return b(a,E),a.prototype.drawFlatCoordinatess_=function(t,n,i,s){var o=this.state,u=void 0!==o.fillStyle,l=void 0!==o.strokeStyle,v=i.length;this.instructions.push(P),this.hitDetectionInstructions.push(P);for(var c=0;c<v;++c){var O=i[c],m=this.coordinates.length,A=this.appendFlatLineCoordinates(t,n,O,s,!0,!l),G=[C.MOVE_TO_LINE_TO,m,A];this.instructions.push(G),this.hitDetectionInstructions.push(G),l&&(this.instructions.push(M),this.hitDetectionInstructions.push(M)),n=O}return u&&(this.instructions.push($),this.hitDetectionInstructions.push($)),l&&(this.instructions.push(D),this.hitDetectionInstructions.push(D)),n},a.prototype.drawCircle=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,F.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var u=t.getFlatCoordinates(),l=t.getStride(),v=this.coordinates.length;this.appendFlatLineCoordinates(u,0,u.length,l,!1,!1);var c=[C.CIRCLE,v];this.instructions.push(P,c),this.hitDetectionInstructions.push(P,c),void 0!==i.fillStyle&&(this.instructions.push($),this.hitDetectionInstructions.push($)),void 0!==i.strokeStyle&&(this.instructions.push(D),this.hitDetectionInstructions.push(D)),this.endGeometry(n)}},a.prototype.drawPolygon=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,F.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var u=t.getEnds(),l=t.getOrientedFlatCoordinates(),v=t.getStride();this.drawFlatCoordinatess_(l,0,u,v),this.endGeometry(n)}},a.prototype.drawMultiPolygon=function(t,n){var i=this.state;if(void 0!==i.fillStyle||void 0!==i.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([C.SET_FILL_STYLE,F.bL]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([C.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var u=t.getEndss(),l=t.getOrientedFlatCoordinates(),v=t.getStride(),c=0,O=0,m=u.length;O<m;++O)c=this.drawFlatCoordinatess_(l,c,u[O],v);this.endGeometry(n)}},a.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var n=this.coordinates,i=0,s=n.length;i<s;++i)n[i]=(0,Z.uZ)(n[i],t);return E.prototype.finish.call(this)},a.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},a}(h);const k=Y;var et=y(119);function q(E,a,t,n,i){var O,m,A,G,N,K,z,H,tt,s=t,o=t,u=0,l=0,v=t;for(O=t;O<n;O+=i){var ht=a[O],st=a[O+1];void 0!==G&&(H=ht-G,tt=st-N,A=Math.sqrt(H*H+tt*tt),void 0!==K&&(l+=m,Math.acos((K*H+z*tt)/(m*A))>E&&(l>u&&(u=l,s=v,o=O),l=0,v=O-i)),m=A,K=H,z=tt),G=ht,N=st}return(l+=A)>u?[v,O]:[s,o]}var j=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),I={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},p=function(E){function a(t,n,i,s){var o=E.call(this,t,n,i,s)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return j(a,E),a.prototype.finish=function(){var t=E.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},a.prototype.drawText=function(t,n){var o=this.textState_;if(""!==this.text_&&o&&(this.textFillState_||this.textStrokeState_)){var u=this.coordinates,l=u.length,v=t.getType(),c=null,O=t.getStride();if("line"!==o.placement||v!=V.Z.LINE_STRING&&v!=V.Z.MULTI_LINE_STRING&&v!=V.Z.POLYGON&&v!=V.Z.MULTI_POLYGON){var ct=o.overflow?null:[];switch(v){case V.Z.POINT:case V.Z.MULTI_POINT:c=t.getFlatCoordinates();break;case V.Z.LINE_STRING:c=t.getFlatMidpoint();break;case V.Z.CIRCLE:c=t.getCenter();break;case V.Z.MULTI_LINE_STRING:c=t.getFlatMidpoints(),O=2;break;case V.Z.POLYGON:c=t.getFlatInteriorPoint(),o.overflow||ct.push(c[2]/this.resolution),O=3;break;case V.Z.MULTI_POLYGON:var ot=t.getFlatInteriorPoints();for(c=[],G=0,N=ot.length;G<N;G+=3)o.overflow||ct.push(ot[G+2]/this.resolution),c.push(ot[G],ot[G+1]);if(0===c.length)return;O=2}if((nt=this.appendFlatPointCoordinates(c,O))===l)return;if(ct&&(nt-l)/2!=c.length/O){var lt=l/2;ct=ct.filter(function(Tt,xt){var Et=u[2*(lt+xt)]===c[xt*O]&&u[2*(lt+xt)+1]===c[xt*O+1];return Et||--lt,Et})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);var vt=o.padding;if(vt!=F.oB&&(o.scale[0]<0||o.scale[1]<0)){var yt=o.padding[0],_t=o.padding[1],ut=o.padding[2],gt=o.padding[3];o.scale[0]<0&&(_t=-_t,gt=-gt),o.scale[1]<0&&(yt=-yt,ut=-ut),vt=[yt,_t,ut,gt]}var Ot=this.pixelRatio;this.instructions.push([C.DRAW_IMAGE,l,nt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,vt==F.oB?F.oB:vt.map(function(Tt){return Tt*Ot}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,ct]);var St=1/Ot;this.hitDetectionInstructions.push([C.DRAW_IMAGE,l,nt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[St,St],NaN,this.declutterImageWithText_,vt,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,ct]),this.endGeometry(n)}else{if(!(0,R.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var m=void 0;if(c=t.getFlatCoordinates(),v==V.Z.LINE_STRING)m=[c.length];else if(v==V.Z.MULTI_LINE_STRING)m=t.getEnds();else if(v==V.Z.POLYGON)m=t.getEnds().slice(0,1);else if(v==V.Z.MULTI_POLYGON){var A=t.getEndss();m=[];for(var G=0,N=A.length;G<N;++G)m.push(A[G][0])}this.beginGeometry(t,n);for(var K=o.textAlign,z=0,H=void 0,tt=0,ht=m.length;tt<ht;++tt){if(null==K){var st=q(o.maxAngle,c,z,m[tt],O);z=st[0],H=st[1]}else H=m[tt];for(G=z;G<H;G+=O)u.push(c[G],c[G+1]);var nt;z=m[tt],this.drawChars_(l,nt=u.length),l=nt}this.endGeometry(n)}}},a.prototype.saveTextStates_=function(){var t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,s=this.strokeKey_;t&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||F.PH,textBaseline:n.textBaseline||F.ru,scale:n.scale});var u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))},a.prototype.drawChars_=function(t,n){var i=this.textStrokeState_,s=this.textState_,o=this.strokeKey_,u=this.textKey_,l=this.fillKey_;this.saveTextStates_();var v=this.pixelRatio,c=I[s.textBaseline],O=this.textOffsetY_*v,m=this.text_,A=i?i.lineWidth*Math.abs(s.scale[0])/2:0;this.instructions.push([C.DRAW_CHARS,t,n,c,s.overflow,l,s.maxAngle,v,O,o,A*v,m,u,1]),this.hitDetectionInstructions.push([C.DRAW_CHARS,t,n,c,s.overflow,l,s.maxAngle,1,O,o,A,m,u,1/v])},a.prototype.setTextStyle=function(t,n){var i,s,o;if(t){var u=t.getFill();u?((s=this.textFillState_)||(this.textFillState_=s={}),s.fillStyle=(0,B.y)(u.getColor()||F.bL)):this.textFillState_=s=null;var l=t.getStroke();if(l){(o=this.textStrokeState_)||(this.textStrokeState_=o={});var v=l.getLineDash(),c=l.getLineDashOffset(),O=l.getWidth(),m=l.getMiterLimit();o.lineCap=l.getLineCap()||F.mb,o.lineDash=v?v.slice():F.X9,o.lineDashOffset=void 0===c?F.He:c,o.lineJoin=l.getLineJoin()||F.rc,o.lineWidth=void 0===O?F.yC:O,o.miterLimit=void 0===m?F.V4:m,o.strokeStyle=(0,B.y)(l.getColor()||F.Tx)}else this.textStrokeState_=o=null;i=this.textState_;var A=t.getFont()||F.Df;(0,F.Qx)(A);var G=t.getScaleArray();i.overflow=t.getOverflow(),i.font=A,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||F.ru,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||F.oB,i.scale=void 0===G?[1,1]:G;var N=t.getOffsetX(),K=t.getOffsetY(),z=t.getRotateWithView(),H=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===N?0:N,this.textOffsetY_=void 0===K?0:K,this.textRotateWithView_=void 0!==z&&z,this.textRotation_=void 0===H?0:H,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:(0,et.sq)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=s?"string"==typeof s.fillStyle?s.fillStyle:"|"+(0,et.sq)(s.fillStyle):""}else this.text_="";this.declutterImageWithText_=n},a}(h),J={Circle:k,Default:h,Image:T,LineString:x,Polygon:k,Text:p},rt=function(){function E(a,t,n,i){this.tolerance_=a,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return E.prototype.finish=function(){var a={};for(var t in this.buildersByZIndex_){a[t]=a[t]||{};var n=this.buildersByZIndex_[t];for(var i in n){var s=n[i].finish();a[t][i]=s}}return a},E.prototype.getBuilder=function(a,t){var n=void 0!==a?a.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var s=i[t];return void 0===s&&(s=new(0,J[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=s),s},E}();const at=rt;var dt=y(2121),pt=y(9555),Rt=y(9996),It=y(483),wt=y(2156),At=y(874);function kt(E,a,t,n,i,s,o,u,l,v,c,O){var m=E[a],A=E[a+1],G=0,N=0,K=0,z=0;function H(){G=m,N=A,m=E[a+=n],A=E[a+1],z+=K,K=Math.sqrt((m-G)*(m-G)+(A-N)*(A-N))}do{H()}while(a<t-n&&z+K<s);for(var tt=0===K?0:(s-z)/K,ht=(0,wt.t7)(G,m,tt),st=(0,wt.t7)(N,A,tt),nt=a-n,ct=z,ot=s+u*l(v,i,c);a<t-n&&z+K<ot;)H();var yt,lt=(0,wt.t7)(G,m,tt=0===K?0:(ot-z)/K),vt=(0,wt.t7)(N,A,tt);if(O){var _t=[ht,st,lt,vt];(0,At.U1)(_t,0,4,2,O,_t,_t),yt=_t[0]>_t[2]}else yt=ht>lt;var St,ut=Math.PI,gt=[],Ot=nt+n===a;if(K=0,z=ct,m=E[a=nt],A=E[a+1],Ot)return H(),St=Math.atan2(A-N,m-G),yt&&(St+=St>0?-ut:ut),gt[0]=[mt=(lt+ht)/2,Tt=(vt+st)/2,(ot-s)/2,St,i],gt;for(var xt=0,Et=i.length;xt<Et;){H();var Lt=Math.atan2(A-N,m-G);if(yt&&(Lt+=Lt>0?-ut:ut),void 0!==St){var X=Lt-St;if(X+=X>ut?-2*ut:X<-ut?2*ut:0,Math.abs(X)>o)return null}St=Lt;for(var Dt=xt,Ft=0;xt<Et;++xt){var bt=u*l(v,i[yt?Et-xt-1:xt],c);if(a+n<t&&z+K<s+Ft+bt/2)break;Ft+=bt}if(xt!==Dt){var me=yt?i.substring(Et-Dt,Et-xt):i.substring(Dt,xt),mt=(0,wt.t7)(G,m,tt=0===K?0:(s+Ft/2-z)/K),Tt=(0,wt.t7)(N,A,tt);gt.push([mt,Tt,Ft/2,Lt,me]),s+=Ft}}return gt}var Qt=y(3343),Vt=(0,R.lJ)(),Yt=[],Zt=[],Wt=[],Xt=[];function Fe(E){return E[3].declutterBox}var Je=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Me(E,a){return("start"===a||"end"===a)&&!Je.test(E)&&(a="start"===a?"left":"right"),I[a]}function be(E,a,t){return t>0&&E.push("\n",""),E.push(a,""),E}var Qe=function(){function E(a,t,n,i){this.overlaps=n,this.pixelRatio=t,this.resolution=a,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,It.Ue)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return E.prototype.createLabel=function(a,t,n,i){var s=a+t+n+i;if(this.labels_[s])return this.labels_[s];var o=i?this.strokeStates[i]:null,u=n?this.fillStates[n]:null,l=this.textStates[t],v=this.pixelRatio,c=[l.scale[0]*v,l.scale[1]*v],O=Array.isArray(a),m=Me(O?a[0]:a,l.textAlign||F.PH),A=i&&o.lineWidth?o.lineWidth:0,G=O?a:a.split("\n").reduce(be,[]),N=(0,F.Zw)(l,G),H=N.widths,tt=N.heights,ht=N.lineWidths,st=N.width+A,nt=[],ct=(st+2)*c[0],ot=(N.height+A)*c[1],lt={width:ct<0?Math.floor(ct):Math.ceil(ct),height:ot<0?Math.floor(ot):Math.ceil(ot),contextInstructions:nt};(1!=c[0]||1!=c[1])&&nt.push("scale",c),i&&(nt.push("strokeStyle",o.strokeStyle),nt.push("lineWidth",A),nt.push("lineCap",o.lineCap),nt.push("lineJoin",o.lineJoin),nt.push("miterLimit",o.miterLimit),(Rt.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(nt.push("setLineDash",[o.lineDash]),nt.push("lineDashOffset",o.lineDashOffset))),n&&nt.push("fillStyle",u.fillStyle),nt.push("textBaseline","middle"),nt.push("textAlign","center");for(var xt,yt=.5-m,_t=m*st+yt*A,ut=[],gt=[],Ot=0,St=0,mt=0,Tt=0,Et=0,Lt=G.length;Et<Lt;Et+=2){var X=G[Et];if("\n"!==X){var Dt=G[Et+1]||l.font;Dt!==xt&&(i&&ut.push("font",Dt),n&&gt.push("font",Dt),xt=Dt),Ot=Math.max(Ot,tt[mt]);var Ft=[X,_t+yt*H[mt]+m*(H[mt]-ht[Tt]),.5*(A+Ot)+St];_t+=H[mt],i&&ut.push("strokeText",Ft),n&&gt.push("fillText",Ft),++mt}else St+=Ot,Ot=0,_t=m*st+yt*A,++Tt}return Array.prototype.push.apply(nt,ut),Array.prototype.push.apply(nt,gt),this.labels_[s]=lt,lt},E.prototype.replayTextBackground_=function(a,t,n,i,s,o,u){a.beginPath(),a.moveTo.apply(a,t),a.lineTo.apply(a,n),a.lineTo.apply(a,i),a.lineTo.apply(a,s),a.lineTo.apply(a,t),o&&(this.alignFill_=o[2],this.fill_(a)),u&&(this.setStrokeStyle_(a,u),a.stroke())},E.prototype.calculateImageOrLabelDimensions_=function(a,t,n,i,s,o,u,l,v,c,O,m,A,G,N,K){var lt,z=n-(u*=m[0]),H=i-(l*=m[1]),tt=s+v>a?a-v:s,ht=o+c>t?t-c:o,st=G[3]+tt*m[0]+G[1],nt=G[0]+ht*m[1]+G[2],ct=z-G[3],ot=H-G[0];return(N||0!==O)&&(Yt[0]=ct,Xt[0]=ct,Yt[1]=ot,Zt[1]=ot,Zt[0]=ct+st,Wt[0]=Zt[0],Wt[1]=ot+nt,Xt[1]=Wt[1]),0!==O?(lt=(0,It.qC)((0,It.Ue)(),n,i,1,1,O,-n,-i),(0,It.nn)(lt,Yt),(0,It.nn)(lt,Zt),(0,It.nn)(lt,Wt),(0,It.nn)(lt,Xt),(0,R.T9)(Math.min(Yt[0],Zt[0],Wt[0],Xt[0]),Math.min(Yt[1],Zt[1],Wt[1],Xt[1]),Math.max(Yt[0],Zt[0],Wt[0],Xt[0]),Math.max(Yt[1],Zt[1],Wt[1],Xt[1]),Vt)):(0,R.T9)(Math.min(ct,ct+st),Math.min(ot,ot+nt),Math.max(ct,ct+st),Math.max(ot,ot+nt),Vt),A&&(z=Math.round(z),H=Math.round(H)),{drawImageX:z,drawImageY:H,drawImageW:tt,drawImageH:ht,originX:v,originY:c,declutterBox:{minX:Vt[0],minY:Vt[1],maxX:Vt[2],maxY:Vt[3],value:K},canvasTransform:lt,scale:m}},E.prototype.replayImageOrLabel_=function(a,t,n,i,s,o,u){var v=i.declutterBox,c=a.canvas,O=u?u[2]*i.scale[0]/2:0;return v.minX-O<=c.width/t&&v.maxX+O>=0&&v.minY-O<=c.height/t&&v.maxY+O>=0&&(!(!o&&!u)&&this.replayTextBackground_(a,Yt,Zt,Wt,Xt,o,u),(0,F._f)(a,i.canvasTransform,s,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},E.prototype.fill_=function(a){if(this.alignFill_){var t=(0,It.nn)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;a.save(),a.translate(t[0]%n,t[1]%n),a.rotate(this.viewRotation_)}a.fill(),this.alignFill_&&a.restore()},E.prototype.setStrokeStyle_=function(a,t){a.strokeStyle=t[1],a.lineWidth=t[2],a.lineCap=t[3],a.lineJoin=t[4],a.miterLimit=t[5],a.setLineDash&&(a.lineDashOffset=t[7],a.setLineDash(t[6]))},E.prototype.drawLabelWithPointPlacement_=function(a,t,n,i){var s=this.textStates[t],o=this.createLabel(a,t,i,n),u=this.strokeStates[n],l=this.pixelRatio,v=Me(Array.isArray(a)?a[0]:a,s.textAlign||F.PH),c=I[s.textBaseline||F.ru],O=u&&u.lineWidth?u.lineWidth:0;return{label:o,anchorX:v*(o.width/l-2*s.scale[0])+2*(.5-v)*O,anchorY:c*o.height/l+2*(.5-c)*O}},E.prototype.execute_=function(a,t,n,i,s,o,u,l){var v;this.pixelCoordinates_&&(0,S.fS)(n,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=(0,At.vT)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,It.lk)(this.renderedTransform_,n));for(var A,G,N,K,z,H,tt,ht,st,nt,ct,ot,Tt,xt,Et,Lt,c=0,O=i.length,m=0,lt=0,vt=0,yt=null,_t=null,ut=this.coordinateCache_,gt=this.viewRotation_,Ot=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,St={context:a,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:gt},mt=this.instructions!=i||this.overlaps?0:200;c<O;){var X=i[c];switch(X[0]){case C.BEGIN_GEOMETRY:Lt=X[3],(Tt=X[1]).getGeometry()?void 0===u||(0,R.kK)(u,Lt.getExtent())?++c:c=X[2]+1:c=X[2];break;case C.BEGIN_PATH:lt>mt&&(this.fill_(a),lt=0),vt>mt&&(a.stroke(),vt=0),!lt&&!vt&&(a.beginPath(),K=NaN,z=NaN),++c;break;case C.CIRCLE:var Ft=v[m=X[1]],jt=v[m+1],Be=v[m+2]-Ft,Ge=v[m+3]-jt,Ze=Math.sqrt(Be*Be+Ge*Ge);a.moveTo(Ft+Ze,jt),a.arc(Ft,jt,Ze,0,2*Math.PI,!0),++c;break;case C.CLOSE_PATH:a.closePath(),++c;break;case C.CUSTOM:m=X[1],A=X[2];var xi=X[4],We=6==X.length?X[5]:void 0;St.geometry=X[3],St.feature=Tt,c in ut||(ut[c]=[]);var te=ut[c];We?We(v,m,A,2,te):(te[0]=v[m],te[1]=v[m+1],te.length=2),xi(te,St),++c;break;case C.DRAW_IMAGE:m=X[1],A=X[2],G=X[4],N=X[5];var xe=X[6],Ei=X[7],Ii=X[8],Ti=X[9],Ne=X[10],Ee=X[11],Si=X[12],he=X[13],ee=X[14];if(!(ht=X[3])&&X.length>=19){var Ie=this.drawLabelWithPointPlacement_(st=X[18],nt=X[19],ct=X[20],ot=X[21]);X[3]=ht=Ie.label,X[4]=G=(Ie.anchorX-X[22])*this.pixelRatio,X[5]=N=(Ie.anchorY-X[23])*this.pixelRatio,X[6]=xe=ht.height,X[13]=he=ht.width}var Te=void 0;X.length>24&&(Te=X[24]);var Se=void 0,le=void 0,ue=void 0;X.length>16?(Se=X[15],le=X[16],ue=X[17]):(Se=F.oB,le=!1,ue=!1),Ne&&Ot?Ee+=gt:!Ne&&!Ot&&(Ee-=gt);for(var Ri=0;m<A;m+=2)if(!(Te&&Te[Ri++]<he/this.pixelRatio)){var ke=[a,t,ht,Nt=this.calculateImageOrLabelDimensions_(ht.width,ht.height,v[m],v[m+1],he,xe,G,N,Ii,Ti,Ee,Si,s,Se,le||ue,Tt),Ei,le?yt:null,ue?_t:null],fe=void 0,Oe=void 0;if(l&&ee){var ce=A-m;if(!ee[ce]){ee[ce]=ke;continue}if(fe=ee[ce],delete ee[ce],Oe=Fe(fe),l.collides(Oe))continue}l&&l.collides(Nt.declutterBox)||(fe&&(l&&l.insert(Oe),this.replayImageOrLabel_.apply(this,fe)),l&&l.insert(Nt.declutterBox),this.replayImageOrLabel_.apply(this,ke))}++c;break;case C.DRAW_CHARS:var Ye=X[1],Xe=X[2],Ce=X[3],Li=X[4];ot=X[5];var Di=X[6],Ue=X[7],Ke=X[8];ct=X[9];var Re=X[10];st=X[11];var je=[X[13],X[13]],Le=this.textStates[nt=X[12]],ie=Le.font,ne=[Le.scale[0]*Ue,Le.scale[1]*Ue],re=void 0;ie in this.widths_?re=this.widths_[ie]:this.widths_[ie]=re={};var He=(0,Qt.W)(v,Ye,Xe,2),Ve=Math.abs(ne[0])*(0,F.Kd)(ie,st,re);if(Li||Ve<=He){var ae=kt(v,Ye,Xe,2,st,(He-Ve)*I[this.textStates[nt].textAlign],Di,Math.abs(ne[0]),F.Kd,ie,re,Ot?0:this.viewRotation_);t:if(ae){var oe=[],Ht=void 0,de=void 0,Mt=void 0,Bt=void 0;if(ct)for(Ht=0,de=ae.length;Ht<de;++Ht){Mt=this.createLabel((Bt=ae[Ht])[4],nt,"",ct);var Nt=this.calculateImageOrLabelDimensions_(Mt.width,Mt.height,Bt[0],Bt[1],Mt.width,Mt.height,G=Bt[2]+(ne[0]<0?-Re:Re),N=Ce*Mt.height+2*(.5-Ce)*Re*ne[1]/ne[0]-Ke,0,0,Bt[3],je,!1,F.oB,!1,Tt);if(l&&l.collides(Nt.declutterBox))break t;oe.push([a,t,Mt,Nt,1,null,null])}if(ot)for(Ht=0,de=ae.length;Ht<de;++Ht){if(Mt=this.createLabel((Bt=ae[Ht])[4],nt,ot,""),Nt=this.calculateImageOrLabelDimensions_(Mt.width,Mt.height,Bt[0],Bt[1],Mt.width,Mt.height,G=Bt[2],N=Ce*Mt.height-Ke,0,0,Bt[3],je,!1,F.oB,!1,Tt),l&&l.collides(Nt.declutterBox))break t;oe.push([a,t,Mt,Nt,1,null,null])}l&&l.load(oe.map(Fe));for(var De=0,wi=oe.length;De<wi;++De)this.replayImageOrLabel_.apply(this,oe[De])}}++c;break;case C.END_GEOMETRY:if(void 0!==o){var ze=o(Tt=X[1],Lt);if(ze)return ze}++c;break;case C.FILL:mt?lt++:this.fill_(a),++c;break;case C.MOVE_TO_LINE_TO:for(A=X[2],tt=(Et=v[(m=X[1])+1])+.5|0,((H=(xt=v[m])+.5|0)!==K||tt!==z)&&(a.moveTo(xt,Et),K=H,z=tt),m+=2;m<A;m+=2)H=(xt=v[m])+.5|0,tt=(Et=v[m+1])+.5|0,(m==A-2||H!==K||tt!==z)&&(a.lineTo(xt,Et),K=H,z=tt);++c;break;case C.SET_FILL_STYLE:yt=X,this.alignFill_=X[2],lt&&(this.fill_(a),lt=0,vt&&(a.stroke(),vt=0)),a.fillStyle=X[1],++c;break;case C.SET_STROKE_STYLE:_t=X,vt&&(a.stroke(),vt=0),this.setStrokeStyle_(a,X),++c;break;case C.STROKE:mt?vt++:a.stroke(),++c;break;default:++c}}lt&&this.fill_(a),vt&&a.stroke()},E.prototype.execute=function(a,t,n,i,s,o){this.viewRotation_=i,this.execute_(a,t,n,this.instructions,s,void 0,void 0,o)},E.prototype.executeHitDetection=function(a,t,n,i,s){return this.viewRotation_=n,this.execute_(a,1,t,this.hitDetectionInstructions,!0,i,s)},E}();const $e=Qe;var $t=y(1992),qe=y(9466),ve=[pt.Z.POLYGON,pt.Z.CIRCLE,pt.Z.LINE_STRING,pt.Z.IMAGE,pt.Z.TEXT,pt.Z.DEFAULT],ti=function(){function E(a,t,n,i,s,o){this.maxExtent_=a,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,It.Ue)(),this.createExecutors_(s)}return E.prototype.clip=function(a,t){var n=this.getClipCoords(t);a.beginPath(),a.moveTo(n[0],n[1]),a.lineTo(n[2],n[3]),a.lineTo(n[4],n[5]),a.lineTo(n[6],n[7]),a.clip()},E.prototype.createExecutors_=function(a){for(var t in a){var n=this.executorsByZIndex_[t];void 0===n&&(this.executorsByZIndex_[t]=n={});var i=a[t];for(var s in i)n[s]=new $e(this.resolution_,this.pixelRatio_,this.overlaps_,i[s])}},E.prototype.hasExecutors=function(a){for(var t in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[t],i=0,s=a.length;i<s;++i)if(a[i]in n)return!0;return!1},E.prototype.forEachFeatureAtCoordinate=function(a,t,n,i,s,o){var u=2*(i=Math.round(i))+1,l=(0,It.qC)(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-a[0],-a[1]),v=!this.hitDetectionContext_;v&&(this.hitDetectionContext_=(0,$t.E4)(u,u));var O,c=this.hitDetectionContext_;c.canvas.width!==u||c.canvas.height!==u?(c.canvas.width=u,c.canvas.height=u):v||c.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(O=(0,R.lJ)(),(0,R.Wj)(O,a),(0,R.f3)(O,t*(this.renderBuffer_+i),O));var A,m=function ei(E){if(void 0!==pe[E])return pe[E];for(var a=2*E+1,t=E*E,n=new Array(t+1),i=0;i<=E;++i)for(var s=0;s<=E;++s){var o=i*i+s*s;if(o>t)break;var u=n[o];u||(n[o]=u=[]),u.push(4*((E+i)*a+(E+s))+3),i>0&&u.push(4*((E-i)*a+(E+s))+3),s>0&&(u.push(4*((E+i)*a+(E-s))+3),i>0&&u.push(4*((E-i)*a+(E-s))+3))}for(var l=[],v=(i=0,n.length);i<v;++i)n[i]&&l.push.apply(l,n[i]);return pe[E]=l,l}(i);function G(nt,ct){for(var ot=c.getImageData(0,0,u,u).data,lt=0,vt=m.length;lt<vt;lt++)if(ot[m[lt]]>0){if(!o||A!==pt.Z.IMAGE&&A!==pt.Z.TEXT||-1!==o.indexOf(nt)){var yt=(m[lt]-3)/4,_t=i-yt%u,ut=i-(yt/u|0),gt=s(nt,ct,_t*_t+ut*ut);if(gt)return gt}c.clearRect(0,0,u,u);break}}var K,z,H,tt,ht,N=Object.keys(this.executorsByZIndex_).map(Number);for(N.sort(S.kK),K=N.length-1;K>=0;--K){var st=N[K].toString();for(H=this.executorsByZIndex_[st],z=ve.length-1;z>=0;--z)if(void 0!==(tt=H[A=ve[z]])&&(ht=tt.executeHitDetection(c,l,n,G,O)))return ht}},E.prototype.getClipCoords=function(a){var t=this.maxExtent_;if(!t)return null;var n=t[0],i=t[1],s=t[2],o=t[3],u=[n,i,n,o,s,o,s,i];return(0,At.vT)(u,0,8,2,a,u),u},E.prototype.isEmpty=function(){return(0,qe.xb)(this.executorsByZIndex_)},E.prototype.execute=function(a,t,n,i,s,o,u){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(S.kK),this.maxExtent_&&(a.save(),this.clip(a,n));var c,O,m,A,G,N,v=o||ve;for(u&&l.reverse(),c=0,O=l.length;c<O;++c){var K=l[c].toString();for(G=this.executorsByZIndex_[K],m=0,A=v.length;m<A;++m)void 0!==(N=G[v[m]])&&N.execute(a,t,n,i,s,u)}this.maxExtent_&&a.restore()},E}(),pe={};const we=ti;var se=y(8587),ii=y(3620);var ge=y(9972);var Kt=y(521),ni=y(6398),Ae=y(3783),ye=y(1911),ri=y(8007),Pe=y(2956),ai=y(3641),oi=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),qt=null,si=function(E){function a(t,n,i,s,o,u){var l=E.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,null!==s&&(l.image_.crossOrigin=s),l.canvas_={},l.color_=u,l.unlisten_=null,l.imageState_=o,l.size_=i,l.src_=n,l}return oi(a,E),a.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Kt.Z.LOADED){qt||(qt=(0,$t.E4)(1,1)),qt.drawImage(this.image_,0,0);try{qt.getImageData(0,0,1,1),this.tainted_=!1}catch(t){qt=null,this.tainted_=!0}}return!0===this.tainted_},a.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ge.Z.CHANGE)},a.prototype.handleImageError_=function(){this.imageState_=Kt.Z.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},a.prototype.handleImageLoad_=function(){this.imageState_=Kt.Z.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},a.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},a.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},a.prototype.getImageState=function(){return this.imageState_},a.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],n=this.size_[1],i=(0,$t.E4)(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},a.prototype.getSize=function(){return this.size_},a.prototype.getSrc=function(){return this.src_},a.prototype.load=function(){if(this.imageState_==Kt.Z.IDLE){this.imageState_=Kt.Z.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,ai.K)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},a.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===Kt.Z.LOADED){var n=document.createElement("canvas");this.canvas_[t]=n,n.width=Math.ceil(this.image_.width*t),n.height=Math.ceil(this.image_.height*t);var i=n.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply","multiply"===i.globalCompositeOperation||this.isTainted_())i.fillStyle=(0,Ae.XC)(this.color_),i.fillRect(0,0,n.width/t,n.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var s=i.getImageData(0,0,n.width,n.height),o=s.data,u=this.color_[0]/255,l=this.color_[1]/255,v=this.color_[2]/255,c=this.color_[3],O=0,m=o.length;O<m;O+=4)o[O]*=u,o[O+1]*=l,o[O+2]*=v,o[O+3]*=c;i.putImageData(s,0,0)}}},a.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},a}(ri.Z),li=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),ui=function(E){function a(t){var n=this,i=t||{};(n=E.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var v=void 0!==i.img?i.img:null;n.imgSize_=i.imgSize;var c=i.src;(0,ye.h)(!(void 0!==c&&v),4),(0,ye.h)(!v||v&&n.imgSize_,5),(void 0===c||0===c.length)&&v&&(c=v.src||(0,et.sq)(v)),(0,ye.h)(void 0!==c&&c.length>0,6);var O=void 0!==i.src?Kt.Z.IDLE:Kt.Z.LOADED;return n.color_=void 0!==i.color?(0,Ae._2)(i.color):null,n.iconImage_=function hi(E,a,t,n,i,s){var o=Pe.c.get(a,n,s);return o||(o=new si(E,a,t,n,i,s),Pe.c.set(a,n,s,o)),o}(v,c,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,O,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return li(a,E),a.prototype.clone=function(){var t=this.getScale();return new a({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},a.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var n=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!n)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=n[0]),"fraction"==this.anchorYUnits_&&(t[1]*=n[1])}if("top-left"!=this.anchorOrigin_){if(!n)return null;t===this.anchor_&&(t=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[0]=-t[0]+n[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(t[1]=-t[1]+n[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},a.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},a.prototype.getColor=function(){return this.color_},a.prototype.getImage=function(t){return this.iconImage_.getImage(t)},a.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},a.prototype.getImageSize=function(){return this.iconImage_.getSize()},a.prototype.getImageState=function(){return this.iconImage_.getImageState()},a.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},a.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if("top-left"!=this.offsetOrigin_){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[0]=i[0]-n[0]-t[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_},a.prototype.getSrc=function(){return this.iconImage_.getSrc()},a.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},a.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(ge.Z.CHANGE,t)},a.prototype.load=function(){this.iconImage_.load()},a.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(ge.Z.CHANGE,t)},a}(ni.Z);const fi=ui;var Gt=.5,_i=y(5263),zt=y(8377),Jt=y(1274),vi=y(3481),pi=function(){var E=function(a,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}E(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),gi=function(E){function a(t){var n=E.call(this,t)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,R.lJ)(),n.wrappedRenderedExtent_=(0,R.lJ)(),n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return pi(a,E),a.prototype.renderWorlds=function(t,n,i){var s=n.extent,o=n.viewState,u=o.center,l=o.resolution,v=o.projection,c=o.rotation,O=v.getExtent(),m=this.getLayer().getSource(),A=n.pixelRatio,G=n.viewHints,N=!(G[se.Z.ANIMATING]||G[se.Z.INTERACTING]),K=this.context,z=Math.round(n.size[0]*A),H=Math.round(n.size[1]*A),tt=m.getWrapX()&&v.canWrapX(),ht=tt?(0,R.dz)(O):null,st=tt?Math.ceil((s[2]-O[2])/ht)+1:1,nt=tt?Math.floor((s[0]-O[0])/ht):0;do{var ct=this.getRenderTransform(u,l,c,A,z,H,nt*ht);t.execute(K,1,ct,c,N,void 0,i)}while(++nt<st)},a.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},a.prototype.renderFrame=function(t,n){var i=t.pixelRatio,s=t.layerStatesArray[t.layerIndex];(0,It.n3)(this.pixelTransform,1/i,1/i),(0,It.nb)(this.inversePixelTransform,this.pixelTransform);var o=(0,It.BB)(this.pixelTransform);this.useContainer(n,o,s.opacity,this.getBackground(t));var u=this.context,l=u.canvas,v=this.replayGroup_,c=this.declutterExecutorGroup;if((!v||v.isEmpty())&&(!c||c.isEmpty()))return null;var O=Math.round(t.size[0]*i),m=Math.round(t.size[1]*i);l.width!=O||l.height!=m?(l.width=O,l.height=m,l.style.transform!==o&&(l.style.transform=o)):this.containerReused||u.clearRect(0,0,O,m),this.preRender(u,t);var A=t.viewState,N=!1,K=!0;if(s.extent&&this.clipping){var z=(0,Jt.dY)(s.extent,A.projection);(N=(K=(0,R.kK)(z,t.extent))&&!(0,R.r4)(z,t.extent))&&this.clipUnrotated(u,t,z)}K&&this.renderWorlds(v,t),N&&u.restore(),this.postRender(u,t);var H=(0,_i.Xy)(s.opacity),tt=this.container;return H!==tt.style.opacity&&(tt.style.opacity=H),this.renderedRotation_!==A.rotation&&(this.renderedRotation_=A.rotation,this.hitDetectionImageData_=null),this.container},a.prototype.getFeatures=function(t){return new Promise(function(n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];(0,It.nn)(this.pixelTransform,i);var s=this.renderedCenter_,o=this.renderedResolution_,u=this.renderedRotation_,l=this.renderedProjection_,v=this.wrappedRenderedExtent_,c=this.getLayer(),O=[],m=i[0]*Gt,A=i[1]*Gt;O.push(this.getRenderTransform(s,o,u,Gt,m,A,0).slice());var G=c.getSource(),N=l.getExtent();if(G.getWrapX()&&l.canWrapX()&&!(0,R.r4)(N,v)){for(var K=v[0],z=(0,R.dz)(N),H=0;K<N[0];)--H,O.push(this.getRenderTransform(s,o,u,Gt,m,A,z*H).slice()),K+=z;for(H=0,K=v[2];K>N[2];)++H,O.push(this.getRenderTransform(s,o,u,Gt,m,A,z*H).slice()),K-=z}this.hitDetectionImageData_=function ci(E,a,t,n,i,s,o){var v=(0,$t.E4)(E[0]*Gt,E[1]*Gt);v.imageSmoothingEnabled=!1;for(var c=v.canvas,O=new ii.Z(v,Gt,i,null,o),m=t.length,A=Math.floor(16777215/m),G={},N=1;N<=m;++N){var K=t[N-1],z=K.getStyleFunction()||n;if(n){var H=z(K,s);if(H){Array.isArray(H)||(H=[H]);for(var ht="#"+("000000"+(N*A).toString(16)).slice(-6),st=0,nt=H.length;st<nt;++st){var ct=H[st],ot=ct.getGeometryFunction()(K);if(ot&&(0,R.kK)(i,ot.getExtent())){var lt=ct.clone(),vt=lt.getFill();vt&&vt.setColor(ht);var yt=lt.getStroke();yt&&(yt.setColor(ht),yt.setLineDash(null)),lt.setText(void 0);var _t=ct.getImage();if(_t&&0!==_t.getOpacity()){var ut=_t.getImageSize();if(!ut)continue;var gt=(0,$t.E4)(ut[0],ut[1],void 0,{alpha:!1}),Ot=gt.canvas;gt.fillStyle=ht,gt.fillRect(0,0,Ot.width,Ot.height),lt.setImage(new fi({img:Ot,imgSize:ut,anchor:_t.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:_t.getOrigin(),opacity:1,size:_t.getSize(),scale:_t.getScale(),rotation:_t.getRotation(),rotateWithView:_t.getRotateWithView()}))}var St=lt.getZIndex()||0;(mt=G[St])||(G[St]=mt={},mt[V.Z.POLYGON]=[],mt[V.Z.CIRCLE]=[],mt[V.Z.LINE_STRING]=[],mt[V.Z.POINT]=[]),mt[ot.getType().replace("Multi","")].push(ot,lt)}}}}}for(var Tt=Object.keys(G).map(Number).sort(S.kK),xt=(N=0,Tt.length);N<xt;++N){var mt=G[Tt[N]];for(var Et in mt){var Lt=mt[Et];for(st=0,nt=Lt.length;st<nt;st+=2){O.setStyle(Lt[st+1]);for(var X=0,Dt=a.length;X<Dt;++X)O.setTransform(a[X]),O.drawGeometry(Lt[st])}}}return v.getImageData(0,0,c.width,c.height)}(i,O,this.renderedFeatures_,c.getStyleFunction(),v,o,u)}n(function di(E,a,t){var n=[];if(t){var i=Math.floor(Math.round(E[0])*Gt),s=Math.floor(Math.round(E[1])*Gt),o=4*((0,wt.uZ)(i,0,t.width-1)+(0,wt.uZ)(s,0,t.height-1)*t.width),c=t.data[o+2]+256*(t.data[o+1]+256*t.data[o]),O=Math.floor(16777215/a.length);c&&c%O==0&&n.push(a[c/O-1])}return n}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},a.prototype.forEachFeatureAtCoordinate=function(t,n,i,s,o){var u=this;if(this.replayGroup_){var A,l=n.viewState.resolution,v=n.viewState.rotation,c=this.getLayer(),O={},m=function(N,K,z){var H=(0,et.sq)(N),tt=O[H];if(tt){if(!0!==tt&&z<tt.distanceSq){if(0===z)return O[H]=!0,o.splice(o.lastIndexOf(tt),1),s(N,c,K);tt.geometry=K,tt.distanceSq=z}}else{if(0===z)return O[H]=!0,s(N,c,K);o.push(O[H]={feature:N,layer:c,geometry:K,distanceSq:z,callback:s})}},G=[this.replayGroup_];return this.declutterExecutorGroup&&G.push(this.declutterExecutorGroup),G.some(function(N){return A=N.forEachFeatureAtCoordinate(t,l,v,i,m,N===u.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(function(K){return K.value}):null)}),A}},a.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},a.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},a.prototype.prepareFrame=function(t){var n=this.getLayer(),i=n.getSource();if(!i)return!1;var s=t.viewHints[se.Z.ANIMATING],o=t.viewHints[se.Z.INTERACTING],u=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!u&&s||!l&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var v=t.extent,c=t.viewState,O=c.projection,m=c.resolution,A=t.pixelRatio,G=n.getRevision(),N=n.getRenderBuffer(),K=n.getRenderOrder();void 0===K&&(K=zt.eR);var z=c.center.slice(),H=(0,R.f3)(v,N*m),tt=H.slice(),ht=[H.slice()],st=O.getExtent();if(i.getWrapX()&&O.canWrapX()&&!(0,R.r4)(st,t.extent)){var nt=(0,R.dz)(st),ct=Math.max((0,R.dz)(H)/2,nt);H[0]=st[0]-ct,H[2]=st[2]+ct,(0,vi.Cf)(z,O);var ot=(0,R.Cf)(ht[0],O);ot[0]<st[0]&&ot[2]<st[2]?ht.push([ot[0]+nt,ot[1],ot[2]+nt,ot[3]]):ot[0]>st[0]&&ot[2]>st[2]&&ht.push([ot[0]-nt,ot[1],ot[2]-nt,ot[3]])}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==G&&this.renderedRenderOrder_==K&&(0,R.r4)(this.wrappedRenderedExtent_,H))return(0,S.fS)(this.renderedExtent_,tt)||(this.hitDetectionImageData_=null,this.renderedExtent_=tt),this.renderedCenter_=z,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var vt,lt=new at((0,zt.Qz)(m,A),H,m,A);this.getLayer().getDeclutter()&&(vt=new at((0,zt.Qz)(m,A),H,m,A));var _t,yt=(0,Jt.Cs)();if(yt){for(var ut=0,gt=ht.length;ut<gt;++ut){var St=(0,Jt.Fj)(ht[ut],O);i.loadFeatures(St,(0,Jt.on)(m,O),yt)}_t=(0,Jt.WO)(yt,O)}else for(ut=0,gt=ht.length;ut<gt;++ut)i.loadFeatures(ht[ut],m,O);var mt=(0,zt.se)(m,A),Tt=function(Dt){var Ft,jt=Dt.getStyleFunction()||n.getStyleFunction();if(jt&&(Ft=jt(Dt,m)),Ft){var bt=this.renderFeature(Dt,mt,Ft,lt,_t,vt);this.dirty_=this.dirty_||bt}}.bind(this),xt=(0,Jt.Fj)(H,O),Et=i.getFeaturesInExtent(xt);for(K&&Et.sort(K),ut=0,gt=Et.length;ut<gt;++ut)Tt(Et[ut]);this.renderedFeatures_=Et;var Lt=lt.finish(),X=new we(H,m,A,i.getOverlaps(),Lt,n.getRenderBuffer());return vt&&(this.declutterExecutorGroup=new we(H,m,A,i.getOverlaps(),vt.finish(),n.getRenderBuffer())),this.renderedResolution_=m,this.renderedRevision_=G,this.renderedRenderOrder_=K,this.renderedExtent_=tt,this.wrappedRenderedExtent_=H,this.renderedCenter_=z,this.renderedProjection_=O,this.replayGroup_=X,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},a.prototype.renderFeature=function(t,n,i,s,o,u){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var v=0,c=i.length;v<c;++v)l=(0,zt.Pn)(s,t,i[v],n,this.boundHandleStyleImageChange_,o,u)||l;else l=(0,zt.Pn)(s,t,i,n,this.boundHandleStyleImageChange_,o,u);return l},a}(dt.Z);const yi=gi},8377:(Ct,ft,y)=>{"use strict";y.d(ft,{eR:()=>V,se:()=>Q,Qz:()=>W,Pn:()=>R});var U=y(9555),$=y(4410),D=y(521),P=y(119),C={Point:function f(g,_,x,Z,b){var it,Y=x.getImage(),k=x.getText();if(b&&(g=b,it=Y&&k&&k.getText()?{}:void 0),Y){if(Y.getImageState()!=D.Z.LOADED)return;var et=g.getBuilder(x.getZIndex(),U.Z.IMAGE);et.setImageStyle(Y,it),et.drawPoint(_,Z)}if(k&&k.getText()){var q=g.getBuilder(x.getZIndex(),U.Z.TEXT);q.setTextStyle(k,it),q.drawText(_,Z)}},LineString:function e(g,_,x,Z,b){var Y=x.getStroke();if(Y){var k=g.getBuilder(x.getZIndex(),U.Z.LINE_STRING);k.setFillStrokeStyle(null,Y),k.drawLineString(_,Z)}var it=x.getText();if(it&&it.getText()){var et=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);et.setTextStyle(it),et.drawText(_,Z)}},Polygon:function T(g,_,x,Z,b){var Y=x.getFill(),k=x.getStroke();if(Y||k){var it=g.getBuilder(x.getZIndex(),U.Z.POLYGON);it.setFillStrokeStyle(Y,k),it.drawPolygon(_,Z)}var et=x.getText();if(et&&et.getText()){var q=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);q.setTextStyle(et),q.drawText(_,Z)}},MultiPoint:function L(g,_,x,Z,b){var it,Y=x.getImage(),k=x.getText();if(b&&(g=b,it=Y&&k&&k.getText()?{}:void 0),Y){if(Y.getImageState()!=D.Z.LOADED)return;var et=g.getBuilder(x.getZIndex(),U.Z.IMAGE);et.setImageStyle(Y,it),et.drawMultiPoint(_,Z)}if(k&&k.getText()){var q=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);q.setTextStyle(k,it),q.drawText(_,Z)}},MultiLineString:function r(g,_,x,Z,b){var Y=x.getStroke();if(Y){var k=g.getBuilder(x.getZIndex(),U.Z.LINE_STRING);k.setFillStrokeStyle(null,Y),k.drawMultiLineString(_,Z)}var it=x.getText();if(it&&it.getText()){var et=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);et.setTextStyle(it),et.drawText(_,Z)}},MultiPolygon:function h(g,_,x,Z,b){var Y=x.getFill(),k=x.getStroke();if(k||Y){var it=g.getBuilder(x.getZIndex(),U.Z.POLYGON);it.setFillStrokeStyle(Y,k),it.drawMultiPolygon(_,Z)}var et=x.getText();if(et&&et.getText()){var q=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);q.setTextStyle(et),q.drawText(_,Z)}},GeometryCollection:function d(g,_,x,Z,b){var k,it,Y=_.getGeometriesArray();for(k=0,it=Y.length;k<it;++k)(0,C[Y[k].getType()])(g,Y[k],x,Z,b)},Circle:function B(g,_,x,Z,b){var Y=x.getFill(),k=x.getStroke();if(Y||k){var it=g.getBuilder(x.getZIndex(),U.Z.CIRCLE);it.setFillStrokeStyle(Y,k),it.drawCircle(_,Z)}var et=x.getText();if(et&&et.getText()){var q=(b||g).getBuilder(x.getZIndex(),U.Z.TEXT);q.setTextStyle(et),q.drawText(_,Z)}}};function V(g,_){return parseInt((0,P.sq)(g),10)-parseInt((0,P.sq)(_),10)}function Q(g,_){var x=W(g,_);return x*x}function W(g,_){return.5*g/_}function R(g,_,x,Z,b,Y,k){var it=!1,et=x.getImage();if(et){var q=et.getImageState();q==D.Z.LOADED||q==D.Z.ERROR?et.unlistenImageChange(b):(q==D.Z.IDLE&&et.load(),q=et.getImageState(),et.listenImageChange(b),it=!0)}return function F(g,_,x,Z,b,Y){var k=x.getGeometryFunction()(_);if(k){var it=k.simplifyTransformed(Z,b);x.getRenderer()?S(g,it,x,_):(0,C[it.getType()])(g,it,x,_,Y)}}(g,_,x,Z,Y,k),it}function S(g,_,x,Z){if(_.getType()!=$.Z.GEOMETRY_COLLECTION)g.getBuilder(x.getZIndex(),U.Z.DEFAULT).drawCustom(_,Z,x.getRenderer(),x.getHitDetectionRenderer());else for(var b=_.getGeometries(),Y=0,k=b.length;Y<k;++Y)S(g,b[Y],x,Z)}},5947:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>et});var U=y(2815),$=y(9889),D=y(8214),P=y(9972),M=y(4587),C=y(2909),V=y(4702),Q=y(9454),W=y(4412),B=y(1345);function F(q,j){return[[-1/0,-1/0,1/0,1/0]]}y(1274);var e=y(1911),r=y(760),h=y(2456),f=y(119),L=y(9466),T=y(1729),g=y(5569);function Z(q,j){return function(I,p,w,J,rt){var at=this;!function x(q,j,I,p,w,J,rt){var at=new XMLHttpRequest;at.open("GET","function"==typeof q?q(I,p,w):q,!0),j.getType()==g.Z.ARRAY_BUFFER&&(at.responseType="arraybuffer"),at.withCredentials=false,at.onload=function(dt){if(!at.status||at.status>=200&&at.status<300){var pt=j.getType(),Rt=void 0;pt==g.Z.JSON||pt==g.Z.TEXT?Rt=at.responseText:pt==g.Z.XML?(Rt=at.responseXML)||(Rt=(new DOMParser).parseFromString(at.responseText,"application/xml")):pt==g.Z.ARRAY_BUFFER&&(Rt=at.response),Rt?J(j.readFeatures(Rt,{extent:I,featureProjection:w}),j.readProjection(Rt)):rt()}else rt()},at.onerror=rt,at.send()}(q,j,I,p,w,function(dt,pt){at.addFeatures(dt),void 0!==J&&J(dt)},rt||B.Zn)}}var q,Y=(q=function(j,I){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var J in w)Object.prototype.hasOwnProperty.call(w,J)&&(p[J]=w[J])})(j,I)},function(j,I){if("function"!=typeof I&&null!==I)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function p(){this.constructor=j}q(j,I),j.prototype=null===I?Object.create(I):(p.prototype=I.prototype,new p)}),k=function(q){function j(I,p,w){var J=q.call(this,I)||this;return J.feature=p,J.features=w,J}return Y(j,q),j}(D.ZP),it=function(q){function j(I){var p=this,w=I||{};(p=q.call(this,{attributions:w.attributions,interpolate:!0,projection:void 0,state:Q.Z.READY,wrapX:void 0===w.wrapX||w.wrapX})||this).loader_=B.Zn,p.format_=w.format,p.overlaps_=void 0===w.overlaps||w.overlaps,p.url_=w.url,void 0!==w.loader?p.loader_=w.loader:void 0!==p.url_&&((0,e.h)(p.format_,7),p.loader_=Z(p.url_,p.format_)),p.strategy_=void 0!==w.strategy?w.strategy:F;var rt,at,J=void 0===w.useSpatialIndex||w.useSpatialIndex;return p.featuresRtree_=J?new C.Z:null,p.loadedExtentsRtree_=new C.Z,p.loadingExtentsCount_=0,p.nullGeometryFeatures_={},p.idIndex_={},p.uidIndex_={},p.featureChangeKeys_={},p.featuresCollection_=null,Array.isArray(w.features)?at=w.features:w.features&&(at=(rt=w.features).getArray()),!J&&void 0===rt&&(rt=new U.Z(at)),void 0!==at&&p.addFeaturesInternal(at),void 0!==rt&&p.bindFeaturesCollection_(rt),p}return Y(j,q),j.prototype.addFeature=function(I){this.addFeatureInternal(I),this.changed()},j.prototype.addFeatureInternal=function(I){var p=(0,f.sq)(I);if(this.addToIndex_(p,I)){this.setupChangeEvents_(p,I);var w=I.getGeometry();if(w){var J=w.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(J,I)}else this.nullGeometryFeatures_[p]=I;this.dispatchEvent(new k(W.Z.ADDFEATURE,I))}else this.featuresCollection_&&this.featuresCollection_.remove(I)},j.prototype.setupChangeEvents_=function(I,p){this.featureChangeKeys_[I]=[(0,T.oL)(p,P.Z.CHANGE,this.handleFeatureChange_,this),(0,T.oL)(p,M.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},j.prototype.addToIndex_=function(I,p){var w=!0,J=p.getId();return void 0!==J&&(J.toString()in this.idIndex_?w=!1:this.idIndex_[J.toString()]=p),w&&((0,e.h)(!(I in this.uidIndex_),30),this.uidIndex_[I]=p),w},j.prototype.addFeatures=function(I){this.addFeaturesInternal(I),this.changed()},j.prototype.addFeaturesInternal=function(I){for(var p=[],w=[],J=[],rt=0,at=I.length;rt<at;rt++){var pt=(0,f.sq)(dt=I[rt]);this.addToIndex_(pt,dt)&&w.push(dt)}rt=0;for(var Rt=w.length;rt<Rt;rt++){var dt;pt=(0,f.sq)(dt=w[rt]),this.setupChangeEvents_(pt,dt);var It=dt.getGeometry();if(It){var wt=It.getExtent();p.push(wt),J.push(dt)}else this.nullGeometryFeatures_[pt]=dt}if(this.featuresRtree_&&this.featuresRtree_.load(p,J),this.hasListener(W.Z.ADDFEATURE)){rt=0;for(var At=w.length;rt<At;rt++)this.dispatchEvent(new k(W.Z.ADDFEATURE,w[rt]))}},j.prototype.bindFeaturesCollection_=function(I){var p=!1;this.addEventListener(W.Z.ADDFEATURE,function(w){p||(p=!0,I.push(w.feature),p=!1)}),this.addEventListener(W.Z.REMOVEFEATURE,function(w){p||(p=!0,I.remove(w.feature),p=!1)}),I.addEventListener($.Z.ADD,function(w){p||(p=!0,this.addFeature(w.element),p=!1)}.bind(this)),I.addEventListener($.Z.REMOVE,function(w){p||(p=!0,this.removeFeature(w.element),p=!1)}.bind(this)),this.featuresCollection_=I},j.prototype.clear=function(I){if(I){for(var p in this.featureChangeKeys_)this.featureChangeKeys_[p].forEach(T.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var J=function(dt){this.removeFeatureInternal(dt)}.bind(this);for(var rt in this.featuresRtree_.forEach(J),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[rt])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var at=new k(W.Z.CLEAR);this.dispatchEvent(at),this.changed()},j.prototype.forEachFeature=function(I){if(this.featuresRtree_)return this.featuresRtree_.forEach(I);this.featuresCollection_&&this.featuresCollection_.forEach(I)},j.prototype.forEachFeatureAtCoordinateDirect=function(I,p){return this.forEachFeatureInExtent([I[0],I[1],I[0],I[1]],function(J){if(J.getGeometry().intersectsCoordinate(I))return p(J)})},j.prototype.forEachFeatureInExtent=function(I,p){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(I,p);this.featuresCollection_&&this.featuresCollection_.forEach(p)},j.prototype.forEachFeatureIntersectingExtent=function(I,p){return this.forEachFeatureInExtent(I,function(w){if(w.getGeometry().intersectsExtent(I)){var rt=p(w);if(rt)return rt}})},j.prototype.getFeaturesCollection=function(){return this.featuresCollection_},j.prototype.getFeatures=function(){var I;return this.featuresCollection_?I=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(I=this.featuresRtree_.getAll(),(0,L.xb)(this.nullGeometryFeatures_)||(0,h.l7)(I,(0,L.KX)(this.nullGeometryFeatures_))),I},j.prototype.getFeaturesAtCoordinate=function(I){var p=[];return this.forEachFeatureAtCoordinateDirect(I,function(w){p.push(w)}),p},j.prototype.getFeaturesInExtent=function(I){return this.featuresRtree_?this.featuresRtree_.getInExtent(I):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},j.prototype.getClosestFeatureToCoordinate=function(I,p){var w=I[0],J=I[1],rt=null,at=[NaN,NaN],dt=1/0,pt=[-1/0,-1/0,1/0,1/0],Rt=p||B.uX;return this.featuresRtree_.forEachInExtent(pt,function(It){if(Rt(It)){var wt=It.getGeometry(),At=dt;if((dt=wt.closestPointXY(w,J,at,dt))<At){rt=It;var kt=Math.sqrt(dt);pt[0]=w-kt,pt[1]=J-kt,pt[2]=w+kt,pt[3]=J+kt}}}),rt},j.prototype.getExtent=function(I){return this.featuresRtree_.getExtent(I)},j.prototype.getFeatureById=function(I){var p=this.idIndex_[I.toString()];return void 0!==p?p:null},j.prototype.getFeatureByUid=function(I){var p=this.uidIndex_[I];return void 0!==p?p:null},j.prototype.getFormat=function(){return this.format_},j.prototype.getOverlaps=function(){return this.overlaps_},j.prototype.getUrl=function(){return this.url_},j.prototype.handleFeatureChange_=function(I){var p=I.target,w=(0,f.sq)(p),J=p.getGeometry();if(J){var rt=J.getExtent();w in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[w],this.featuresRtree_&&this.featuresRtree_.insert(rt,p)):this.featuresRtree_&&this.featuresRtree_.update(rt,p)}else w in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(p),this.nullGeometryFeatures_[w]=p);var at=p.getId();if(void 0!==at){var dt=at.toString();this.idIndex_[dt]!==p&&(this.removeFromIdIndex_(p),this.idIndex_[dt]=p)}else this.removeFromIdIndex_(p),this.uidIndex_[w]=p;this.changed(),this.dispatchEvent(new k(W.Z.CHANGEFEATURE,p))},j.prototype.hasFeature=function(I){var p=I.getId();return void 0!==p?p in this.idIndex_:(0,f.sq)(I)in this.uidIndex_},j.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,L.xb)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},j.prototype.loadFeatures=function(I,p,w){for(var J=this.loadedExtentsRtree_,rt=this.strategy_(I,p,w),at=function(It,wt){var At=rt[It];J.forEachInExtent(At,function(Qt){return(0,r.r4)(Qt.extent,At)})||(++dt.loadingExtentsCount_,dt.dispatchEvent(new k(W.Z.FEATURESLOADSTART)),dt.loader_.call(dt,At,p,w,function(Qt){--this.loadingExtentsCount_,this.dispatchEvent(new k(W.Z.FEATURESLOADEND,void 0,Qt))}.bind(dt),function(){--this.loadingExtentsCount_,this.dispatchEvent(new k(W.Z.FEATURESLOADERROR))}.bind(dt)),J.insert(At,{extent:At.slice()}))},dt=this,pt=0,Rt=rt.length;pt<Rt;++pt)at(pt);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},j.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),q.prototype.refresh.call(this)},j.prototype.removeLoadedExtent=function(I){var w,p=this.loadedExtentsRtree_;p.forEachInExtent(I,function(J){if((0,r.fS)(J.extent,I))return w=J,!0}),w&&p.remove(w)},j.prototype.removeFeature=function(I){if(I){var p=(0,f.sq)(I);p in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[p]:this.featuresRtree_&&this.featuresRtree_.remove(I),this.removeFeatureInternal(I)&&this.changed()}},j.prototype.removeFeatureInternal=function(I){var p=(0,f.sq)(I),w=this.featureChangeKeys_[p];if(w){w.forEach(T.bN),delete this.featureChangeKeys_[p];var J=I.getId();return void 0!==J&&delete this.idIndex_[J.toString()],delete this.uidIndex_[p],this.dispatchEvent(new k(W.Z.REMOVEFEATURE,I)),I}},j.prototype.removeFromIdIndex_=function(I){var p=!1;for(var w in this.idIndex_)if(this.idIndex_[w]===I){delete this.idIndex_[w],p=!0;break}return p},j.prototype.setLoader=function(I){this.loader_=I},j.prototype.setUrl=function(I){(0,e.h)(this.format_,7),this.url_=I,this.setLoader(Z(I,this.format_))},j}(V.Z);const et=it},4412:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>U});const U={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}},2909:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>C});var U=y(2402),$=y(760),D=y(119),P=y(9466);const C=function(){function V(Q){this.rbush_=new U(Q),this.items_={}}return V.prototype.insert=function(Q,W){var B={minX:Q[0],minY:Q[1],maxX:Q[2],maxY:Q[3],value:W};this.rbush_.insert(B),this.items_[(0,D.sq)(W)]=B},V.prototype.load=function(Q,W){for(var B=new Array(W.length),R=0,F=W.length;R<F;R++){var S=Q[R],d=W[R],e={minX:S[0],minY:S[1],maxX:S[2],maxY:S[3],value:d};B[R]=e,this.items_[(0,D.sq)(d)]=e}this.rbush_.load(B)},V.prototype.remove=function(Q){var W=(0,D.sq)(Q),B=this.items_[W];return delete this.items_[W],null!==this.rbush_.remove(B)},V.prototype.update=function(Q,W){var B=this.items_[(0,D.sq)(W)];(0,$.fS)([B.minX,B.minY,B.maxX,B.maxY],Q)||(this.remove(W),this.insert(Q,W))},V.prototype.getAll=function(){return this.rbush_.all().map(function(W){return W.value})},V.prototype.getInExtent=function(Q){return this.rbush_.search({minX:Q[0],minY:Q[1],maxX:Q[2],maxY:Q[3]}).map(function(R){return R.value})},V.prototype.forEach=function(Q){return this.forEach_(this.getAll(),Q)},V.prototype.forEachInExtent=function(Q,W){return this.forEach_(this.getInExtent(Q),W)},V.prototype.forEach_=function(Q,W){for(var B,R=0,F=Q.length;R<F;R++)if(B=W(Q[R]))return B;return B},V.prototype.isEmpty=function(){return(0,P.xb)(this.items_)},V.prototype.clear=function(){this.rbush_.clear(),this.items_={}},V.prototype.getExtent=function(Q){var W=this.rbush_.toJSON();return(0,$.T9)(W.minX,W.minY,W.maxX,W.maxY,Q)},V.prototype.concat=function(Q){for(var W in this.rbush_.load(Q.rbush_.all()),Q.items_)this.items_[W]=Q.items_[W]},V}()},949:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>F});var S,U=y(521),$=y(6398),D=y(3783),P=y(5813),M=y(1992),C=y(4686),V=(S=function(d,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(r[f]=h[f])})(d,e)},function(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=d}S(d,e),d.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),Q=function(S){function d(e){var r=this;return(r=S.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=void 0!==e.fill?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=void 0!==e.radius?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=void 0!==e.angle?e.angle:0,r.stroke_=void 0!==e.stroke?e.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return V(d,S),d.prototype.clone=function(){var e=this.getScale(),r=new d({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},d.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var r=this.getDisplacement();return[e[0]/2-r[0],e[1]/2+r[1]]},d.prototype.getAngle=function(){return this.angle_},d.prototype.getFill=function(){return this.fill_},d.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},d.prototype.getImage=function(e){var r=this.canvas_[e];if(!r){var h=this.renderOptions_,f=(0,M.E4)(h.size*e,h.size*e);this.draw_(h,f,e),this.canvas_[e]=r=f.canvas}return r},d.prototype.getPixelRatio=function(e){return e},d.prototype.getImageSize=function(){return this.size_},d.prototype.getImageState=function(){return U.Z.LOADED},d.prototype.getOrigin=function(){return this.origin_},d.prototype.getPoints=function(){return this.points_},d.prototype.getRadius=function(){return this.radius_},d.prototype.getRadius2=function(){return this.radius2_},d.prototype.getSize=function(){return this.size_},d.prototype.getStroke=function(){return this.stroke_},d.prototype.listenImageChange=function(e){},d.prototype.load=function(){},d.prototype.unlistenImageChange=function(e){},d.prototype.calculateLineJoinSize_=function(e,r,h){if(0===r||this.points_===1/0||"bevel"!==e&&"miter"!==e)return r;var f=this.radius_,L=void 0===this.radius2_?f:this.radius2_;if(f<L){var T=f;f=L,L=T}var _=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),x=L*Math.sin(_),b=f-Math.sqrt(L*L-x*x),Y=Math.sqrt(x*x+b*b),k=Y/x;if("miter"===e&&k<=h)return k*r;var it=r/2/k,et=r/2*(b/Y),j=Math.sqrt((f+it)*(f+it)+et*et)-f;if(void 0===this.radius2_||"bevel"===e)return 2*j;var I=f*Math.sin(_),w=L-Math.sqrt(f*f-I*I),rt=Math.sqrt(I*I+w*w)/I;return rt<=h?2*Math.max(j,rt*r/2-L-f):2*j},d.prototype.createRenderOptions=function(){var L,e=C.rc,r=0,h=null,f=0,T=0;this.stroke_&&(null===(L=this.stroke_.getColor())&&(L=C.Tx),L=(0,P.y)(L),void 0===(T=this.stroke_.getWidth())&&(T=C.yC),h=this.stroke_.getLineDash(),f=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=C.rc),void 0===(r=this.stroke_.getMiterLimit())&&(r=C.V4));var g=this.calculateLineJoinSize_(e,T,r),_=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:L,strokeWidth:T,size:Math.ceil(2*_+g),lineDash:h,lineDashOffset:f,lineJoin:e,miterLimit:r}},d.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},d.prototype.draw_=function(e,r,h){if(r.scale(h,h),r.translate(e.size/2,e.size/2),this.createPath_(r),this.fill_){var f=this.fill_.getColor();null===f&&(f=C.bL),r.fillStyle=(0,P.y)(f),r.fill()}this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,r.setLineDash&&e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},d.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var r=this.fill_.getColor(),h=0;if("string"==typeof r&&(r=(0,D._2)(r)),null===r?h=1:Array.isArray(r)&&(h=4===r.length?r[3]:1),0===h){var f=(0,M.E4)(e.size,e.size);this.hitDetectionCanvas_=f.canvas,this.drawHitDetectionCanvas_(e,f)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},d.prototype.createPath_=function(e){var r=this.points_,h=this.radius_;if(r===1/0)e.arc(0,0,h,0,2*Math.PI);else{var f=void 0===this.radius2_?h:this.radius2_;void 0!==this.radius2_&&(r*=2);for(var L=this.angle_-Math.PI/2,T=2*Math.PI/r,g=0;g<r;g++){var _=L+g*T,x=g%2==0?h:f;e.lineTo(x*Math.cos(_),x*Math.sin(_))}e.closePath()}},d.prototype.drawHitDetectionCanvas_=function(e,r){r.translate(e.size/2,e.size/2),this.createPath_(r),r.fillStyle=C.bL,r.fill(),this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},d}($.Z);const W=Q;var B=function(){var S=function(d,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(r[f]=h[f])})(d,e)};return function(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=d}S(d,e),d.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R=function(S){function d(e){var r=e||{};return S.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this}return B(d,S),d.prototype.clone=function(){var e=this.getScale(),r=new d({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},d.prototype.setRadius=function(e){this.radius_=e,this.render()},d}(W);const F=R},5044:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>$});const $=function(){function D(P){var M=P||{};this.color_=void 0!==M.color?M.color:null}return D.prototype.clone=function(){var P=this.getColor();return new D({color:Array.isArray(P)?P.slice():P||void 0})},D.prototype.getColor=function(){return this.color_},D.prototype.setColor=function(P){this.color_=P},D}()},6398:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>P});var U=y(119),$=y(1750);const P=function(){function M(C){this.opacity_=C.opacity,this.rotateWithView_=C.rotateWithView,this.rotation_=C.rotation,this.scale_=C.scale,this.scaleArray_=(0,$.Pq)(C.scale),this.displacement_=C.displacement}return M.prototype.clone=function(){var C=this.getScale();return new M({opacity:this.getOpacity(),scale:Array.isArray(C)?C.slice():C,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},M.prototype.getOpacity=function(){return this.opacity_},M.prototype.getRotateWithView=function(){return this.rotateWithView_},M.prototype.getRotation=function(){return this.rotation_},M.prototype.getScale=function(){return this.scale_},M.prototype.getScaleArray=function(){return this.scaleArray_},M.prototype.getDisplacement=function(){return this.displacement_},M.prototype.getAnchor=function(){return(0,U.O3)()},M.prototype.getImage=function(C){return(0,U.O3)()},M.prototype.getHitDetectionImage=function(){return(0,U.O3)()},M.prototype.getPixelRatio=function(C){return 1},M.prototype.getImageState=function(){return(0,U.O3)()},M.prototype.getImageSize=function(){return(0,U.O3)()},M.prototype.getOrigin=function(){return(0,U.O3)()},M.prototype.getSize=function(){return(0,U.O3)()},M.prototype.setDisplacement=function(C){this.displacement_=C},M.prototype.setOpacity=function(C){this.opacity_=C},M.prototype.setRotateWithView=function(C){this.rotateWithView_=C},M.prototype.setRotation=function(C){this.rotation_=C},M.prototype.setScale=function(C){this.scale_=C,this.scaleArray_=(0,$.Pq)(C)},M.prototype.listenImageChange=function(C){(0,U.O3)()},M.prototype.load=function(){(0,U.O3)()},M.prototype.unlistenImageChange=function(C){(0,U.O3)()},M}()},6785:(Ct,ft,y)=>{"use strict";y.d(ft,{Z:()=>$});const $=function(){function D(P){var M=P||{};this.color_=void 0!==M.color?M.color:null,this.lineCap_=M.lineCap,this.lineDash_=void 0!==M.lineDash?M.lineDash:null,this.lineDashOffset_=M.lineDashOffset,this.lineJoin_=M.lineJoin,this.miterLimit_=M.miterLimit,this.width_=M.width}return D.prototype.clone=function(){var P=this.getColor();return new D({color:Array.isArray(P)?P.slice():P||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},D.prototype.getColor=function(){return this.color_},D.prototype.getLineCap=function(){return this.lineCap_},D.prototype.getLineDash=function(){return this.lineDash_},D.prototype.getLineDashOffset=function(){return this.lineDashOffset_},D.prototype.getLineJoin=function(){return this.lineJoin_},D.prototype.getMiterLimit=function(){return this.miterLimit_},D.prototype.getWidth=function(){return this.width_},D.prototype.setColor=function(P){this.color_=P},D.prototype.setLineCap=function(P){this.lineCap_=P},D.prototype.setLineDash=function(P){this.lineDash_=P},D.prototype.setLineDashOffset=function(P){this.lineDashOffset_=P},D.prototype.setLineJoin=function(P){this.lineJoin_=P},D.prototype.setMiterLimit=function(P){this.miterLimit_=P},D.prototype.setWidth=function(P){this.width_=P},D}()},109:(Ct,ft,y)=>{"use strict";y.d(ft,{J$:()=>V,yF:()=>W,Ly:()=>B,ZP:()=>F});var U=y(949),$=y(5044),D=y(4410),P=y(6785),M=y(1911),C=function(){function S(d){var e=d||{};this.geometry_=null,this.geometryFunction_=R,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return S.prototype.clone=function(){var d=this.getGeometry();return d&&"object"==typeof d&&(d=d.clone()),new S({geometry:d,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},S.prototype.getRenderer=function(){return this.renderer_},S.prototype.setRenderer=function(d){this.renderer_=d},S.prototype.setHitDetectionRenderer=function(d){this.hitDetectionRenderer_=d},S.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},S.prototype.getGeometry=function(){return this.geometry_},S.prototype.getGeometryFunction=function(){return this.geometryFunction_},S.prototype.getFill=function(){return this.fill_},S.prototype.setFill=function(d){this.fill_=d},S.prototype.getImage=function(){return this.image_},S.prototype.setImage=function(d){this.image_=d},S.prototype.getStroke=function(){return this.stroke_},S.prototype.setStroke=function(d){this.stroke_=d},S.prototype.getText=function(){return this.text_},S.prototype.setText=function(d){this.text_=d},S.prototype.getZIndex=function(){return this.zIndex_},S.prototype.setGeometry=function(d){"function"==typeof d?this.geometryFunction_=d:"string"==typeof d?this.geometryFunction_=function(e){return e.get(d)}:d?void 0!==d&&(this.geometryFunction_=function(){return d}):this.geometryFunction_=R,this.geometry_=d},S.prototype.setZIndex=function(d){this.zIndex_=d},S}();function V(S){var d,e;"function"==typeof S?d=S:(Array.isArray(S)?e=S:((0,M.h)("function"==typeof S.getZIndex,41),e=[S]),d=function(){return e});return d}var Q=null;function W(S,d){if(!Q){var e=new $.Z({color:"rgba(255,255,255,0.4)"}),r=new P.Z({color:"#3399CC",width:1.25});Q=[new C({image:new U.Z({fill:e,stroke:r,radius:5}),fill:e,stroke:r})]}return Q}function B(){var S={},d=[255,255,255,1],e=[0,153,255,1];return S[D.Z.POLYGON]=[new C({fill:new $.Z({color:[255,255,255,.5]})})],S[D.Z.MULTI_POLYGON]=S[D.Z.POLYGON],S[D.Z.LINE_STRING]=[new C({stroke:new P.Z({color:d,width:5})}),new C({stroke:new P.Z({color:e,width:3})})],S[D.Z.MULTI_LINE_STRING]=S[D.Z.LINE_STRING],S[D.Z.CIRCLE]=S[D.Z.POLYGON].concat(S[D.Z.LINE_STRING]),S[D.Z.POINT]=[new C({image:new U.Z({radius:6,fill:new $.Z({color:e}),stroke:new P.Z({color:d,width:1.5})}),zIndex:1/0})],S[D.Z.MULTI_POINT]=S[D.Z.POINT],S[D.Z.GEOMETRY_COLLECTION]=S[D.Z.POLYGON].concat(S[D.Z.LINE_STRING],S[D.Z.POINT]),S}function R(S){return S.getGeometry()}const F=C}}]);