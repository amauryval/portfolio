"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[262],{2262:(_e,B,s)=>{s.r(B),s.d(B,{MapGtfsViewerModule:()=>Ie});var C=s(6895),_=s(2216),F=s(646),p=s(8046),Q=s(3171),K=s(187),W=s(6107),X=s(2121),v=s(521),Z=s(8587),f=s(483),h=s(760),O=s(6003);const ee=class q extends X.Z{constructor(n){super(n),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(n){const t=n.layerStatesArray[n.layerIndex],i=n.pixelRatio,a=n.viewState,l=a.resolution,c=this.getLayer().getSource(),o=n.viewHints;let u=n.extent;if(void 0!==t.extent&&(u=(0,h.Ed)(u,(0,O.dY)(t.extent,a.projection))),!o[Z.Z.ANIMATING]&&!o[Z.Z.INTERACTING]&&!(0,h.xb)(u))if(c){const g=c.getImage(u,l,i,a.projection);g&&(this.loadImage(g)?this.image_=g:g.getState()===v.Z.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(n){const t=this.frameState;if(!t)return null;const i=this.getLayer(),a=(0,f.nn)(t.pixelToCoordinateTransform,n.slice()),l=i.getExtent();if(l&&!(0,h.b8)(l,a))return null;const c=this.image_.getExtent(),o=this.image_.getImage(),u=(0,h.dz)(c),d=Math.floor(o.width*((a[0]-c[0])/u));if(d<0||d>=o.width)return null;const g=(0,h.Cr)(c),b=Math.floor(o.height*((c[3]-a[1])/g));return b<0||b>=o.height?null:this.getImageData(o,d,b)}renderFrame(n,t){const i=this.image_,a=i.getExtent(),l=i.getResolution(),c=i.getPixelRatio(),o=n.layerStatesArray[n.layerIndex],u=n.pixelRatio,d=n.viewState,g=d.center,I=u*l/(d.resolution*c),A=n.extent,R=d.resolution,T=d.rotation,x=Math.round((0,h.dz)(A)/R*u),D=Math.round((0,h.Cr)(A)/R*u);(0,f.qC)(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/u,1/u,T,-x/2,-D/2),(0,f.nb)(this.inversePixelTransform,this.pixelTransform);const w=(0,f.BB)(this.pixelTransform);this.useContainer(t,w,this.getBackground(n));const m=this.context,S=m.canvas;S.width!=x||S.height!=D?(S.width=x,S.height=D):this.containerReused||m.clearRect(0,0,x,D);let V=!1,k=!0;if(o.extent){const M=(0,O.dY)(o.extent,d.projection);k=(0,h.kK)(M,n.extent),V=k&&!(0,h.r4)(M,n.extent),V&&this.clipUnrotated(m,n,M)}const L=i.getImage(),E=(0,f.qC)(this.tempTransform,x/2,D/2,I,I,0,c*(a[0]-g[0])/l,c*(g[1]-a[3])/l);this.renderedResolution=l*u/c;const j=L.width*E[0],Y=L.height*E[3];if(this.getLayer().getSource().getInterpolate()||(m.imageSmoothingEnabled=!1),this.preRender(m,n),k&&j>=.5&&Y>=.5){const M=E[4],Ee=E[5],G=o.opacity;let $;1!==G&&($=m.globalAlpha,m.globalAlpha=G),m.drawImage(L,0,0,+L.width,+L.height,M,Ee,j,Y),1!==G&&(m.globalAlpha=$)}return this.postRender(m,n),V&&m.restore(),m.imageSmoothingEnabled=!0,w!==S.style.transform&&(S.style.transform=w),this.container}};var te=s(5513),U=s(9972),ne=s(8007),P=s(119);const re=class ie extends ne.Z{constructor(n,t,i,a){super(),this.extent=n,this.pixelRatio_=i,this.resolution=t,this.state=a}changed(){this.dispatchEvent(U.Z.CHANGE)}getExtent(){return this.extent}getImage(){return(0,P.O3)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){(0,P.O3)()}},ae=class oe extends re{constructor(n,t,i,a,l){super(n,t,i,void 0!==l?v.Z.IDLE:v.Z.LOADED),this.loader_=void 0!==l?l:null,this.canvas_=a,this.error_=null}getError(){return this.error_}handleLoad_(n){n?(this.error_=n,this.state=v.Z.ERROR):this.state=v.Z.LOADED,this.changed()}load(){this.state==v.Z.IDLE&&(this.state=v.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}};var se=s(2402);const ce=class le extends ee{constructor(n){super(n),this.vectorRenderer_=new te.Z(n),this.layerImageRatio_=n.getImageRatio(),this.coordinateToVectorPixelTransform_=(0,f.Ue)(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(n){if(!this.vectorRenderer_)return new Promise(i=>i([]));const t=(0,f.nn)(this.coordinateToVectorPixelTransform_,(0,f.nn)(this.renderedPixelToCoordinateTransform_,n.slice()));return this.vectorRenderer_.getFeatures(t)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(n){const t=n.pixelRatio,i=n.viewState,a=i.resolution,l=n.viewHints,c=this.vectorRenderer_;let o=n.extent;1!==this.layerImageRatio_&&(o=o.slice(0),(0,h.H9)(o,this.layerImageRatio_));const u=(0,h.dz)(o)/a,d=(0,h.Cr)(o)/a;if(!l[Z.Z.ANIMATING]&&!l[Z.Z.INTERACTING]&&!(0,h.xb)(o)){c.useContainer(null,null);const g=c.context,b=n.layerStatesArray[n.layerIndex];g.globalAlpha=b.opacity;const I=Object.assign({},b,{opacity:1}),A=Object.assign({},n,{declutterTree:new se(9),extent:o,size:[u,d],viewState:Object.assign({},n.viewState,{rotation:0}),layerStatesArray:[I],layerIndex:0});let R=!0;const T=new ae(o,a,t,g.canvas,function(x){c.prepareFrame(A)&&c.replayGroupChanged&&(c.clipping=!1,c.renderFrame(A,null)&&(c.renderDeclutter(A),R=!1),x())});T.addEventListener(U.Z.CHANGE,function(){if(T.getState()!==v.Z.LOADED)return;this.image_=R?null:T;const x=T.getResolution(),D=T.getPixelRatio(),w=x*t/D;this.renderedResolution=w,this.coordinateToVectorPixelTransform_=(0,f.qC)(this.coordinateToVectorPixelTransform_,u/2,d/2,1/w,-1/w,0,-i.center[0],-i.center[1])}.bind(this)),T.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(n,t,i,a,l){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(n,t,i,a,l):super.forEachFeatureAtCoordinate(n,t,i,a,l)}},de=class ue extends W.Z{constructor(n){n=n||{};const t=Object.assign({},n);delete t.imageRatio,super(t),this.imageRatio_=void 0!==n.imageRatio?n.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new ce(this)}};var N=s(5947),e=s(4650),y=s(7579),pe=s(6488),he=s(529);let z=(()=>{class r{constructor(t){this.http=t,this.apiUrl=pe.n+"api/v1/gtfs_builder/",this.mapContainer=new y.x,this.screenMapBound=new y.x,this.availableAreas=new y.x,this.availableRouteTypes=new y.x,this.ErrorapiUrlDataApiFound=new y.x,this.GeoData=new y.x,this.rangeDateData=new y.x,this.GeoDataToMap=new y.x}pullGeoData(t,i,a){const l=(0,C.p6)(i,"yyyy-MM-dd HH:mm:ss","fr_FR");this.http.get(this.apiUrl+t.toLowerCase()+"/moving_nodes_by_date?current_date="+l+"&bounds="+a).subscribe({complete:()=>{},error:c=>{this.ErrorapiUrlDataApiFound.next(c.error.message)},next:c=>{this.GeoData.next(c)}})}pullRangeDateData(t){this.http.get(this.apiUrl+t.toLowerCase()+"/range_dates").subscribe({complete:()=>{},error:i=>{this.ErrorapiUrlDataApiFound.next(i.error.message)},next:i=>{this.rangeDateData.next(i)}})}pullAvailableAreas(){this.http.get(this.apiUrl+"/existing_study_areas").subscribe({complete:()=>{},error:t=>{this.ErrorapiUrlDataApiFound.next(t.error.message)},next:t=>{this.availableAreas.next(t)}})}pullAvailableRouteTypes(t){this.http.get(this.apiUrl+t.toLowerCase()+"/route_types").subscribe({complete:()=>{},error:i=>{this.ErrorapiUrlDataApiFound.next(i.error.message)},next:i=>{this.availableRouteTypes.next(i)}})}pullGeoDataToMap(t){this.GeoDataToMap.next(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ge=s(9947),me=s(1481),fe=s(3686),H=s(942),xe=s(485),ve=s(6423),ye=s(2921),J=s(9255),be=s(6298);function Te(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"h6",11),e._uU(2,"Vitesse"),e.qZA(),e.TgZ(3,"div",12)(4,"div",13),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",14)(7,"input",15),e.NdJ("change",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.updateStepValue(a))}),e.qZA()(),e.TgZ(8,"div",13),e._uU(9,"+"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(7),e.Q6J("min",t.minStepValue)("max",t.maxStepValue)("step",t.minStepValue)("value",t.stepValue)}}let De=(()=>{class r extends ye.g{constructor(){super(),this.sliderHandleTimeStyle=[{from:0,to:7,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"La nuit",brightness:60},{from:7,to:11,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"Le matin"},{from:11,to:14,font_unicode:"\uf185",color:"#d73027",stroke:"black",description:"Le milieu de journ\xe9e"},{from:14,to:19,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"L'apr\xe8s midi"},{from:19,to:24,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"Le soir"}]}ngOnDestroy(){this.setMapTileBrightness()}update(t){super.update(t),this.updateHandleTimelineStyleFromTime(t)}updateHandleTimelineStyleFromTime(t){let i=t.getHours(),a=this.sliderHandleTimeStyle.filter(l=>i>=l.from&&i<l.to)[0];J.Ys("#handle-timeline").style("fill",a.color).style("stroke",a.stroke).style("stroke-width","1px"),this.setMapTileBrightness(i)}setMapTileBrightness(t){J.td_(".ol-layer").style("filter",typeof t<"u"?`brightness(${this.brightnessValuesAtEachHours[t]})`:"unset")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-time-legend"]],features:[e.qOj],decls:18,vars:9,consts:[[1,"d-flex","flex-xl-row","flex-column"],["classes","text-bg-secondary"],[1,"d-flex","flex-row","justify-content-center"],[3,"id"],[1,"d-flex","flex-column","justify-content-center","m-2"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],["id","start-button","role","button",1,"btn","btn-sm","btn-dark",3,"click"],[3,"icon"],["id","play-button","role","button",1,"btn","btn-dark","mx-2",3,"click"],["id","end-button","role","button",1,"btn","btn-sm","btn-dark",3,"click"],[4,"ngIf"],[1,"mt-3"],[1,"d-flex","flex-row","align-self-center"],[1,"fw-bold"],[1,"px-1"],["id","speed-slider","type","range",1,"form-range",3,"min","max","step","value","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"set-section-container")(2,"h6"),e._uU(3,"Barre Temporelle"),e.qZA(),e.TgZ(4,"set-badge-content",1),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",2),e.O4$(),e._UZ(8,"svg",3),e.qZA()(),e.kcU(),e.TgZ(9,"div",4)(10,"div",5)(11,"a",6),e.NdJ("click",function(){return i.resetTimeLine()}),e._UZ(12,"fa-icon",7),e.qZA(),e.TgZ(13,"a",8),e.NdJ("click",function(){return i.startTimeLine()}),e._uU(14,"Play"),e.qZA(),e.TgZ(15,"a",9),e.NdJ("click",function(){return i.forwardTimeLine()}),e._UZ(16,"fa-icon",7),e.qZA()(),e.YNc(17,Te,10,4,"ng-container",10),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(e.xi3(6,6,i.currentDate,i.currentDateFormat)),e.xp6(3),e.Q6J("id",i.timeLineId),e.uIk("viewBox","0 10 "+i.width+" "+i.height),e.xp6(4),e.Q6J("icon",i.backwardIcon),e.xp6(4),e.Q6J("icon",i.forwardIcon),e.xp6(1),e.Q6J("ngIf",i.timeLineSpeedSliderEnabled))},dependencies:[C.O5,_.BN,H.d,be.H,C.uU],styles:['.ticks{font-weight:700}.track,.track-inset,.track-overlay{stroke-linecap:round}.track{stroke:#000;stroke-opacity:.3;stroke-width:13px}.track-inset{stroke:#dcdcdc;stroke-width:11px}.track-overlay{pointer-events:stroke;stroke-width:50px;stroke:transparent;cursor:pointer}#handle-timeline{fill:#fff;stroke:#000;stroke-opacity:.5;stroke-width:1.25px}svg #trace{stroke:#6c6c6c;stroke-width:4}#play-button{width:90px}circle.preselected{stroke:#000!important;stroke-width:2px!important}#timeline-slider{width:33em}@media (max-width: 576px){#timeline-slider{width:20em}}#speed-slider{transform:rotate(180deg)}.marker-fontawesome{font-family:"Font Awesome 5 Free";text-anchor:middle;dominant-baseline:middle;pointer-events:none}\n'],encapsulation:2}),r})();function we(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.zoomOnData())}),e._UZ(1,"fa-icon",4),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.centerIcon)}}function Ae(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"set-button-content",10),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.updateData(l))}),e._uU(2),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("classes",i.currentArea===t?"btn-sm btn-warning fw-bold":"btn-sm btn-warning"),e.xp6(1),e.hij("",t.charAt(0).toUpperCase()+t.slice(1)," ")}}function Se(r,n){if(1&r&&(e.O4$(),e.TgZ(0,"g"),e._UZ(1,"circle"),e.TgZ(2,"text",11),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.uIk("r",i.routeTypesLegendData.circleR)("cx",i.routeTypesLegendData.circleCxPos)("cy",t.cy)("fill",t.color)("stroke",t.strokeColor),e.xp6(1),e.uIk("x",i.routeTypesLegendData.textXPos)("y",t.cy)("font-size",i.routeTypesLegendData.fontSize),e.xp6(1),e.hij("",t.label," ")}}function Ce(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"set-section-container")(2,"h6"),e._uU(3,"GTFS"),e.qZA(),e.TgZ(4,"div",6),e.YNc(5,Ae,3,2,"ng-container",7),e.qZA()(),e.TgZ(6,"set-section-container")(7,"h6"),e._uU(8,"Modes de transport"),e.qZA(),e.O4$(),e.TgZ(9,"svg",8),e.YNc(10,Se,4,9,"g",7),e.qZA()()(),e.kcU(),e.TgZ(11,"set-section-container")(12,"app-time-legend",9),e.NdJ("currentDateEvent",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.getCurrentDate(a))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.availableArea),e.xp6(4),e.uIk("viewBox","0 0 "+t.widthLegendElement+" "+t.heightLegendElement),e.xp6(1),e.Q6J("ngForOf",t.routeTypesLegendData.features),e.xp6(2),e.Q6J("timeLineSpeedSliderEnabled",!0)("startDate",t.startDate)("endDate",t.endDate)("currentDate",t.currentDate)("stepValue",t.currentstepValue)}}const Re=[{path:"",component:(()=>{class r{constructor(t,i,a,l,c){this.dataService=t,this.mapService=i,this.activatedRoute=a,this.titleService=l,this.controlerService=c,this.locationIcon=p.pk,this.tagIcon=p.yK,this.centerIcon=p.HI,this.input_data=[{area:"lyon",default_step_value:4e3,zoom:12,source:"M\xe9tropole de Lyon"},{area:"ter",default_step_value:1500,zoom:6,source:"SNCF"},{area:"toulouse",default_step_value:4e3,zoom:12,source:"Toulouse m\xe9tropole"}],this.widthLegendElement=100,this.heightLegendElement=80,this.heightMoveLegendElement=60,this.routeTypesLegendData={circleR:2*p.X9,circleCxPos:20,fontSize:"12px",circleStrokeColor:p.ue,circleStrokeWidth:p.H,textXPos:35,features:[{dataValue:"0",cy:22,label:"Tram",color:p.yO},{dataValue:"1",cy:44,label:"M\xe9tro",color:p.T7},{dataValue:"2",cy:66,label:"Train",color:p.zy}]},this.previousArea=null,this.currentArea=this.input_data[1].area,this.currentstepValue=this.input_data[1].default_step_value,this.currentZoomValue=this.input_data[1].zoom,this.currentAttributionValue=this.input_data[1].source,this.isGeodataCanBeDisplayed=!1,this.isLegendDisplayed=!0,this.currentRouteTypes=[],this.popupWidth=100,this.popupHeight=100,this.zoomEventSubscription=this.mapService.zoomEvent.subscribe(o=>{this.mapService.zoomToExtent(this.gtfsLayer.getSource().getExtent(),this.currentZoomValue)}),this.mapSubscription=this.mapService.map.subscribe(o=>{this.map=o}),this.screenMapBoundSubscription=this.mapService.screenMapBound.subscribe(o=>{this.dataBoundingBox=o,this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}),this.pullGeoDataToMapSubscription=this.dataService.GeoDataToMap.subscribe(o=>{this.geoFeaturesData=o,this.refreshSourceLayer(o),this.previousArea!==this.currentArea&&(this.mapService.sendZoomAction(),this.previousArea=this.currentArea)}),this.pullAvailableRouteTypeSubscription=this.dataService.availableRouteTypes.subscribe(o=>{this.currentRouteTypes=o}),this.pullBoundingBoxDataSubscription=this.dataService.rangeDateData.subscribe(o=>{this.dataBoundingBox=o.data_bounds,this.startDate=this.parseTime(o.start_date),this.endDate=this.parseTime(o.end_date);const u=new Date;let d=new Date(`${this.startDate.getFullYear()}-${this.startDate.getMonth()+1}-${this.startDate.getDate()} ${u.getHours()}:${u.getMinutes()}:${u.getSeconds()}`);this.currentDate=d<this.startDate?this.startDate:d}),this.pullGeoDataSubscription=this.dataService.GeoData.subscribe(o=>{o.length>0&&this.dataService.pullGeoDataToMap(o)}),this.pullAvailableAreasSubscription=this.dataService.availableAreas.subscribe(o=>{this.availableArea=o})}ngOnInit(){this.sendResumeSubMenus(),this.mapService.changeMapInteractionStatus(!0),this.mapService.getMap(),this.gtfsLayer=this.buildGtfsLayer(p.JB),this.dataService.pullAvailableAreas()}ngAfterViewInit(){this.updateData(this.currentArea)}getCurrentDate(t){this.currentDate=t,this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}sendResumeSubMenus(){this.controlerService.pullSubMenus([]),this.controlerService.pullTitlePage(this.activatedRoute.snapshot.data.title),this.titleService.setTitle(this.activatedRoute.snapshot.data.title)}ngOnDestroy(){this.mapSubscription.unsubscribe(),this.pullGeoDataToMapSubscription.unsubscribe(),this.pullBoundingBoxDataSubscription.unsubscribe(),this.pullGeoDataSubscription.unsubscribe(),this.zoomEventSubscription.unsubscribe(),this.screenMapBoundSubscription.unsubscribe(),this.pullAvailableAreasSubscription.unsubscribe(),this.pullAvailableRouteTypeSubscription.unsubscribe(),this.mapService.removeLayerByName(p.JB),this.mapService.changeMapInteractionStatus(!1),this.mapService.resetMapView()}zoomOnData(){this.mapService.sendZoomAction()}parseTime(t){return new Date(t)}updateData(t){const i=this.input_data.filter(a=>a.area===t);this.currentArea=t,this.currentstepValue=i[0].default_step_value,this.currentZoomValue=i[0].zoom,this.currentAttributionValue=i[0].source,this.dataService.pullRangeDateData(this.currentArea)}showHideLegend(){this.isLegendDisplayed=!this.isLegendDisplayed}buildGtfsLayer(t){let i=new de({source:new N.Z({features:[]}),style:p.vi});return i.set("name",t),this.map.addLayer(i),i}refreshSourceLayer(t){let i=new N.Z({features:[],attributions:this.currentAttributionValue}),a=[];t.forEach((o,u)=>{let d=new Q.Z({geometry:new K.Z([o.x,o.y]).transform("EPSG:4326","EPSG:3857"),route_type:o.route_type,route_long_name:o.route_long_name});a.push(d)}),i.addFeatures(a);const c=this.map.getLayers().getArray().filter(o=>o.get("name")===p.JB);1===c.length&&c[0].setSource(i)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(z),e.Y36(ge.S),e.Y36(F.gz),e.Y36(me.Dx),e.Y36(fe.L))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-map-view"]],decls:5,vars:0,consts:[["classes","position-fixed"],["buttonsTemplate",""],["controlersTemplate",""],["title","Centrer","type","button","checked","","autocomplete","off",1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"",3,"icon"],[1,"d-flex","flex-row","justify-content-around"],[1,"d-flex","flex-xl-row","flex-column"],[4,"ngFor","ngForOf"],["id","routeTypeLegend"],["timelineDateFormat","hour",3,"timeLineSpeedSliderEnabled","startDate","endDate","currentDate","stepValue","currentDateEvent"],[3,"classes","click"],[1,"label"]],template:function(t,i){1&t&&(e.TgZ(0,"set-legend-container",0),e.YNc(1,we,2,1,"ng-template",null,1,e.W1O),e.YNc(3,Ce,13,8,"ng-template",null,2,e.W1O),e.qZA())},dependencies:[C.sg,_.BN,H.d,xe.C,ve.b,De],styles:['.legend-content[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5;box-shadow:0 -5px 20px #00000080}.legend-title[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5}.map-popup[_ngcontent-%COMP%]{position:absolute;visibility:hidden;background-color:#f8f8ff;width:350px}svg[_ngcontent-%COMP%]{width:7em}.label[_ngcontent-%COMP%]{text-anchor:start;dominant-baseline:middle}']}),r})(),data:{title:"GTFS viewer",page:"map-gtfs-viewer"},outlet:"map-gtfs-viewer"}];let Le=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[F.Bz.forChild(Re),F.Bz]}),r})();var Me=s(9387),Ze=s(7157);let Ie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[z],imports:[C.ez,Le,_.uH,Me.k,Ze.p]}),r})()}}]);