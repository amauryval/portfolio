<div id="blogHome" class="gallery" *ngIf="selectedblogTopics.length > 0" [@fadeInOut]>

  <app-grid-container
    columnNb="4"
    [features]="selectedblogTopics"
    featuresHeaderClass="text-bg-dark"
  >
    <ng-template #descriptionTemplate let-feature>

      <div class="body-generic-badges mt-2">

        <div class="body-text small"  *ngIf="feature.categories.length > 0">
            <span class="fw-bold">Catégorie(s):</span>
            <set-badge-content
            *ngFor="let category of feature.categories"
            [customBgColor]="category.color"
          >{{category.name}}</set-badge-content>
        </div>

        <div class="body-text small" *ngIf="feature.tags.length > 0">
          <span class="fw-bold">Tag(s):</span>
          <set-badge-content
            *ngFor="let tag of feature.tags"
            [customBgColor]="tag.color"
          >{{tag.name}}</set-badge-content>
        </div>

      </div>

      <set-paragraph-content>{{ feature.description }}</set-paragraph-content>

    </ng-template>
  </app-grid-container>


  <set-legend-container
    classes="position-sticky"
    >
    <ng-container *ngTemplateOutlet="controler"></ng-container>
  </set-legend-container>

</div>




<ng-template #controler>
  <div class="d-flex flex-column flex-xl-row justify-content-around align-items-center">
    <div class="d-flex flex-column m-2">

      <h6>Filtrage par catégories</h6>

      <div class="btn-toolbar my-2 d-flex justify-content-center" role="toolbar">

        <div class="btn-group my-1 mx-1" role="group">
          <button class="btn btn-secondary btn-sm" [ngClass]="currentCategory === null ? 'fw-bolder' : 'inactive'" (click)="resetContent()">
            <fa-icon class="me-2" [icon]="tagIcon"></fa-icon>Tous
          </button>
        </div>

        <div class="btn-group my-1 mx-1" role="group" *ngFor="let category of allCategories">
          <button class="btn btn-sm btn-secondary btn-sm" [ngClass]="currentCategory === category.name ? 'fw-bolder' : 'inactive'" (click)="selectContentByCategory(category.name)">
            <fa-icon class="me-2" [icon]="tagIcon" [style]="'color:' + category.color + ';'"></fa-icon>{{ category.name }}
          </button>
        </div>

      </div>
    </div>

    <div class="d-flex flex-column mx-2">

      <h6>Filtrage par tags</h6>

      <div class="btn-toolbar my-2 d-flex justify-content-center" role="toolbar">

        <div class="btn-group my-1 mx-1" role="group" *ngFor="let tag of allTags">
          <button class="btn btn-sm btn-secondary btn-sm" [ngClass]="currentTag === tag.name ? 'fw-bolder' : 'inactive'" (click)="selectContentByTag(tag.name)">
            <fa-icon class="me-2" [icon]="tagIcon" [style]="'color:' + tag.color + ';'"></fa-icon>{{ tag.name }}
          </button>
        </div>

      </div>

    </div>

  </div>
</ng-template>
