<div id="blogHome" class="gallery" *ngIf="selectedblogTopics" [@fadeInOut]>

    <div class="gallery-container">

      <div class="gallery-feature" *ngFor="let topic of selectedblogTopics">

        <div class="gallery-feature-header">
          <span class="title">{{ topic.title }}</span>
        </div>

        <div class="gallery-feature-body">

          <img [src]="topic.image | safeUrl">


            <div class="gallery-feature-body-text">
              <span class="title">Catégorie(s):</span>
              <ng-container *ngFor="let category of topic.categories">
                <span class="badge-generic" [style]="'background-color:' + this.getTagColor(category, seedCategory) + ';color: white'">{{category}}</span>
              </ng-container>
            </div>

            <div class="gallery-feature-body-text">
              <span class="title">Tag(s):</span>
              <span *ngFor="let tag of topic.tags" class="badge-generic" [style]="'background-color:' + this.getTagColor(tag, seedTag) + ';color: white'">{{tag}}</span>
            </div>

            <div class="paragraph">{{ topic.resume }}</div>

          <a [href]="topic.url" target="_blank" rel="noopener noreferrer" class="btn-warning">Accéder</a>

        </div>

        <div class="gallery-feature-footer">
        </div>

      </div>

    </div>

  <div class="legend-container">

    <div class="legend-container-buttons">
      <button class="btn-dark" type="button" checked autocomplete="off" (click)="showHideLegend()">
        <fa-icon class="" [icon]="tagsIcon"></fa-icon>
        Légende
      </button>
    </div>

    <div class="legend-container-content" *ngIf="isLegendDisplayed">
      <ng-container *ngTemplateOutlet="controler"></ng-container>
    </div>

    <div class="legend-container-content" *ngIf="!isLegendDisplayed">
    </div>

  </div>

</div>




<ng-template #controler>
  <div class="d-flex flex-column flex-xl-row justify-content-around align-items-center">
    <div class="d-flex flex-column m-2">

      <h6>Filtrage par catégories</h6>

      <div class="btn-toolbar my-2 d-flex justify-content-center" role="toolbar">

        <div class="btn-group my-1 mx-1" role="group">
          <button class="btn btn-secondary btn-sm" [ngClass]="currentCategory === null ? 'fw-bolderer' : 'inactive'" (click)="resetContent()">
            <fa-icon class="me-2" [icon]="tagIcon"></fa-icon>Tous
          </button>
        </div>

        <div class="btn-group my-1 mx-1" role="group" *ngFor="let category of allCategories">
          <button class="btn btn-sm btn-secondary btn-sm" [ngClass]="currentCategory === category ? 'fw-bolderer' : 'inactive'" (click)="selectContentByCategory(category)">
            <fa-icon class="me-2" [icon]="tagIcon" [style]="'color:' + this.getTagColor(category, seedCategory)+ ';'"></fa-icon>{{ category }}
          </button>
        </div>

      </div>
    </div>

    <div class="d-flex flex-column mx-2">

      <h6>Filtrage par tags</h6>

      <div class="btn-toolbar my-2 d-flex justify-content-center" role="toolbar">

        <div class="btn-group my-1 mx-1" role="group" *ngFor="let tag of allTags">
          <button class="btn btn-sm btn-secondary btn-sm" [ngClass]="currentTag === tag ? 'fw-bolderer' : 'inactive'" (click)="selectContentByTag(tag)">
            <fa-icon class="me-2" [icon]="tagIcon" [style]="'color:' + this.getTagColor(tag, seedTag)+ ';'"></fa-icon>{{ tag }}
          </button>
        </div>

      </div>

    </div>

  </div>
</ng-template>
