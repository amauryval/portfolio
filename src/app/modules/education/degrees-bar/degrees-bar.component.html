<section class="p-2">

    <div class="row">

      <div class="col-12">
        <div id="education-cards" class="card collapse show item">

          <div class="card-header">
            <span class="fs-5 fw-bolder px-2">
              <fa-icon class="me-2" [icon]="degreeIcon"></fa-icon>Parcours universitaire
              <!-- <fa-icon class="cursor float-end me-2" [icon]="expandIcon" data-bs-toggle="collapse" data-bs-target="#education-cards" aria-hidden="true"></fa-icon> -->
            </span>
          </div>

          <div class="card-body">

            <div class="col-lg-8 mx-auto mb-2">

              <ul class="nav nav-pills list-inline mx-auto justify-content-center" id="education-tab" role="tablist">

                <li class="nav-item" role="presentation" id="degrees">
                  <a class="nav-link fw-bold border bg-light m-1" [class.active]="tabView === 'degrees'" rel="degrees-tab" (click)="tabView = 'degrees'">
                    <fa-icon class="me-2" [icon]="degreeIcon"></fa-icon>Dipl√¥mes
                  </a>
                </li>


                <li class="nav-item" role="presentation" id="languages">
                  <a class="nav-link fw-bold border bg-light m-1" [class.active]="tabView === 'languages'" rel="languages-tab" (click)="tabView = 'languages'">
                    <fa-icon class="me-2" [icon]="languageIcon"></fa-icon>Langues
                  </a>
                </li>

              </ul>
            </div>

            <div class="tab-container" [ngSwitch]="tabView">

              <div class="tab" id="degrees-tab" *ngSwitchCase="'degrees'">
                <div class="d-flex flex-column flex-md-row justify-content-center align-items-stretch">

                  <div  [id]="degree.identifier" class="educ-feature text-center small p-4 m-2 border shadow bg-light" *ngFor="let degree of inputDegreesData">

                    <div class="title-date mx-auto">
                      <p class="fw-bolder mb-0">{{ degree.start_date | date: 'yyyy' }}-{{ degree.end_date | date: 'yyyy'  }}</p>
                    </div>

                    <div *ngIf="degree.img_school !== 'null';then schoolImgContent"></div>
                    <ng-template #schoolImgContent>
                      <div class="mx-auto">
                        <img class="img-fluid rounded mx-auto d-block shadow mb-2 __img-thumbnail" [src]="apiLogoUrl + degree.img_school"/>
                      </div>
                    </ng-template>

                    <div class="d-flex flex-column mx-auto">
                      <p class="fw-bolder mb-2">{{ degree.degree }}</p>
                      <a [id]="'location_' + degree.identifier" role="button" [routerLink]="[mapPages.route + '/' + mapPages.sub_menus[0].route]" [fragment]="degree.identifier">
                        <fa-icon class="me-2 text-danger" [icon]="locationIcon"></fa-icon>
                      </a>{{ degree.school }} - {{degree.location}}
                    </div>

                  </div>

                </div>

                <ng-container *ngTemplateOutlet="publications"></ng-container>

              </div>

              <div class="tab" id="languages-tab" *ngSwitchCase="'languages'">
                <div class="row justify-content-center">

                  <div class="col-12 col-lg-3">

                    <div  class="text-center small p-4 m-2 border shadow bg-light">

                      <ul class="list-unstyled justify-content-around text-center m-0">
                        <li *ngFor="let language of inputLanguagesData">
                          <span class="fw-bolder">{{language.language}} </span>
                          <span>({{language.level}})</span>
                        </li>
                      </ul>

                    </div>


                  </div>

                </div>
              </div>

            </div>

          </div>

        </div>
      </div>

  </div>

</section>



<ng-template #publications>
  <div  class="col-11 mx-auto mt-3">

    <div class="row justify-content-center">
      <span class="fs-6 fw-bolder px-2">
        <fa-icon class="me-2" [icon]="publishIcon"></fa-icon>
        Travaux/publications universitaires
      </span>
    </div>

  <div class="col-12 mx-auto">
    <div class="item card m-2 publi_card collapse show" *ngFor="let publication of publicationsData">
      <div class="card-body">
        <div class="d-flex flex-row header mb-2 justify-content-between align-items-center">

          <h6>{{publication.year}} - {{publication.editor}}</h6>

          <div class="d-flex flex-column flex-lg-row align-items-center">

            <ng-container *ngIf="publication.keywords">
              <div class="">
                <span class="badge me-2" [style]="'background-color:' + item.value"
                  *ngFor="let item of publication.keywords | keyvalue"
                >{{ item.key }}</span>
              </div>
            </ng-container>

            <ng-container *ngIf="publication.link">
              <div class="">
                <a class="btn btn-sm btn-danger me-2"  href="{{publication.link}}" target="_blank" rel="noopener noreferrer" title="Documents"><fa-icon [icon]="pdfFileIcon"></fa-icon></a>
              </div>
            </ng-container>

          </div>
        </div>

          <div class="d-flex flex-column">

            <div class="col-12">
              <div class="ps-3">
                <p class="text-justify small">{{publication.publication}}</p>
              </div>
            </div>

            <div class="col-12">
              <h6>Description</h6>
              <div class="ps-3">
                <p class="text-justify small">{{publication.description}}</p>
              </div>
            </div>

          </div>
        </div>
    </div>
  </div>
</div>

</ng-template>
