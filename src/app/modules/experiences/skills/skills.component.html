<section id="skills" class="">


    <div id="skills-cards" class="col-12">

      <div class="card-header bg-white mx-3">
        <span class="fs-5 fw-bolder">
          <fa-icon class="me-2" [icon]="skillIcon"></fa-icon>Compétences
          <!-- <fa-icon class="cursor float-end me-2" [icon]="expandIcon" data-bs-toggle="collapse" data-bs-target="#education-cards" aria-hidden="true"></fa-icon> -->
        </span>
      </div>

      <div class="row">

        <ng-container *ngTemplateOutlet="skillDetails; context:{title:'Thématique', category:'themes'}"></ng-container>
        <ng-container *ngTemplateOutlet="skillDetails; context:{title:'Techniques', category:'technics'}"></ng-container>
        <ng-container *ngTemplateOutlet="skillDetails; context:{title:'Outils', category:'tools'}"></ng-container>

      </div>

    </div>
</section>


<ng-template #skillDetails let-title='title' let-category='category'>

  <div class="col-12 mb-2" *ngIf="isActivitiesDataAvailable">
    <div class="card-body pb-0">

      <h5 [class]="'border p-2 pointer text-center text-white mb-4 ' + 'bg-color-' + category" data-bs-toggle="collapse" [attr.data-bs-target]="'.' + category + '-multi-collapse'">
        <fa-icon class="me-2" [icon]="skillIcon"></fa-icon>
        {{ title }}
      </h5>

      <div class="justify-content-around grid-container">

        <div class="skills feat-skill" *ngFor="let skill of skillsData[category]; let idx = index; trackBy: trackByMethod">
          <h6 [ngClass]="{ 'collapsed':!skill.active || !skill.enabled, 'pointer':skill.active }" class="" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse' + category + idx" [attr.aria-expanded]="{ 'true':skill.active, 'false':!skill.active}" [attr.aria-controls]="'#collapse' + category + idx"><a><fa-icon class="me-2"  clickClass="rotation" [icon]="arrowDownIcon"></fa-icon>{{ skill.name }}</a></h6>

          <div *ngIf="skill.enabled; then skillDetails"></div>
          <ng-template #skillDetails>
          <div [ngClass]="{ 'show':skill.active }" [class]="'col-lg-12 collapse '+ category + '-multi-collapse'" [attr.id]="'collapse' + category + idx">


            <ul>
              <li class="small" *ngFor="let skill_detail of skill.details">
                <span>{{ skill_detail }}</span>
              </li>
            </ul>
          </div>
          </ng-template>
        </div>
      </div>

    </div>

  </div>

</ng-template>
