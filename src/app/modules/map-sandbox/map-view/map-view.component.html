<div id="mapTools" class="">

  <div id="geomSelector" class="d-flex flex-row m-2">

    <button type="button" class="button-title btn btn-warning rounded p-2 shadow">
      <span class="fw-bold">EDITER</span>
    </button>

    <div class="btn-group-vertical my-2 align-self-center shadow" role="group" aria-label="">
      <ng-container *ngFor="let feature of geomTypesSupported">
          <input type="radio" class="border btn-check m-0" name="btnradio" [id]="'btnradio-seletor-' + feature.geomType" [checked]="geomTypeSelected === feature.geomType" autocomplete="off">
          <label class="w-100 border-warning p-0" [ngClass]="geomTypeSelected === feature.geomType ? 'bg-warning' :  'bg-light'" [for]="'btnradio-seletor-' + feature.geomType" (click)="addInteractions(feature.geomType)">
              <div class="dropdown-item small">
                <fa-icon class="me-2" [icon]="feature.icon" ></fa-icon>{{ feature.label }}
              </div>
          </label>
      </ng-container>
    </div>

  </div>

  <div id="featuresContainer" class="d-flex flex-column rounded-end m-2">
    <div  class="d-flex flex-row ">

      <button type="button" class="button-title btn btn-dark rounded p-2 shadow">
        <span class="fw-bold">OBJETS</span>
      </button>

        <div id="featuresList" class="overflow-auto btn-group-vertical align-self-center my-2 shadow" role="group" aria-label="" *ngIf="allFeatures.length > 0">

        <ng-container *ngFor="let feature of allFeatures">
          <input type="radio" class="border btn-check m-0" name="btnradio" [id]="'btnradio-feature-' + feature.id" [checked]="featureSelected === feature.name" autocomplete="off">
          <label class="border-warning px-0"  [for]="'btnradio-feature-' + feature.id" (click)="displayToast(feature.id)">
              <div class="dropdown-item small d-flex flex-row" [ngClass]="featureSelected === feature.name ? 'bg-dark text-white' :  'bg-light text-black'">
                <fa-icon *ngIf="feature.geom_type === 'Point'" class="me-2" [icon]="pointIcon" ></fa-icon>
                <fa-icon *ngIf="feature.geom_type === 'LineString'" class="me-2" [icon]="lineStringIcon"></fa-icon>
                <fa-icon *ngIf="feature.geom_type === 'Polygon'" class="me-2" [icon]="polygonIcon"></fa-icon>
                <span>{{ feature.name }}</span>
                <span (click)="removeFeature(feature.id)"> X </span>
              </div>
          </label>
        </ng-container>

      </div>


      <!-- <div id="featuresList" class="position-relative overflow-auto px-2 bg-light" *ngIf="allFeatures.length > 0">

        <div class="d-flex flex-row justify-content-start align-items-center me-1" *ngFor="let feature of allFeatures">
          <fa-icon *ngIf="feature.geom_type === 'Point'" class="p-0" [icon]="pointIcon" class="dropdown-item"></fa-icon>
          <fa-icon *ngIf="feature.geom_type === 'LineString'" class="p-0" [icon]="lineStringIcon" class="dropdown-item"></fa-icon>
          <fa-icon *ngIf="feature.geom_type === 'Polygon'" class="p-0" [icon]="polygonIcon" class="dropdown-item"></fa-icon>
          {{ feature.name }}
          <span (click)="removeFeature(feature.id)"> X </span>

        </div>

      </div> -->
    </div>

  </div>

</div>



<div id="mapToasts" class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
  <div class="toast toastFeature faded" role="alert" aria-live="assertive" aria-atomic="true" *ngFor="let feature of toastsFeatureProperties">
    <div class="toast-header">
      <!-- <fa-icon class="me-2" [icon]="feature.icon" ></fa-icon> -->
      <strong class="me-auto">{{ feature.geom_type }}</strong>
      <small>{{ feature.created_at }}</small>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body bg-white">
      <div class="d-flex flex-column">
      <span>{{ feature.name }}</span>
      <span>{{ feature.created_at }}</span>
      <span>{{ feature.updated_at }}</span>
      <span>{{ feature.wkt }}</span>

    </div>
  </div>
</div>
