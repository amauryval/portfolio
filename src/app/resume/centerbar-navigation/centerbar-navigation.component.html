<section id="navigation" class="col-lg-12 section mt-4">
  <h5 class="font-weight-bold mb-3">
    <fa-icon class="mr-2" [icon]="topicIcon"></fa-icon>
    Navigation
  </h5>


  <div class="item card">
    <div class="card-body">

      <div class="col-lg-12 navigation">
        <p class="text-justify">{{ inputSummaryData }}</p>
      </div>


      <div class="col-lg-12">
        <div class="col-lg-12 graph-content"></div>

        <div #svgGraphChart class="row justify-content-around text-center">

          <div class="col-lg-12 align-self-center text-center">

            <span class="legend_graph_title">Expériences</span>

            <div class="col-lg-12 activities_jobs_shortcuts">
              <span *ngFor="let activity of currentJobsActivitiesData | reverse">
              <fa-icon class="mx-1" [icon]="nextIcon"></fa-icon>
                <a [routerLink]="['/resume']" [fragment]="activity.identifier" (mouseout)="graphUnHightligthing()" (mouseover)="graphHightligthing(activity.identifier, job_identifier)" type="button" class="my-1 badge bg-color-job text-white">{{ activity.name }}</a>
              </span>
            </div>

            <span class="legend_graph_title">Projets personnels</span>

            <div class="col-lg-12 activities_projects_shortcuts">
              <span *ngFor="let activity of currentPersonalProjectsActivitiesData | reverse">
                <a [routerLink]="['/resume']" [fragment]="activity.identifier" (mouseout)="graphUnHightligthing()" (mouseover)="graphHightligthing(activity.identifier, personal_project_identifier)" type="button" class="my-1 mx-1 badge bg-color-personal_project text-white">{{ activity.name}}</a>
              </span>
            </div>

            <span class="legend_graph_title">Bénévolat</span>

            <div class="col-lg-12 activities_volunteers_shortcuts">
              <span *ngFor="let activity of currentVolunteersActivitiesData | reverse">
                <a [routerLink]="['/resume']" [fragment]="activity.identifier" (mouseout)="graphUnHightligthing()" (mouseover)="graphHightligthing(activity.identifier, volunteer_identifier)" type="button" class="my-1 mx-1 badge bg-color-volunteer text-white">{{ activity.name}}</a>
              </span>
            </div>

          </div>

          <div class="col-lg-8 mt-2">

            <div div class="col-lg-12 align-self-center">
              <div  class="graph-legend"></div>
            </div>

          </div>
          <div class="col-lg-4 align-self-center text-center">
            <button id="reset-graph my-1 mx-1" class="btn btn-primary" (click)="resetChart()"><span></span>Reset</button>
            <button class="btn btn-info my-1 mx-1" [ngbPopover]="helpPopup" popoverTitle="Graphe d'activités" placement="left"><fa-icon [icon]="helpIcon"></fa-icon></button>
          </div>
          <div class="col-lg-12 align-self-center">

              <span class="legend_graph_title">Barre temporelle</span>
              <div class="row justify-content-center my-2">

                <div class="col-xs-3 text-left mr-2">
                  {{ graphInputData.start_date_graph_slider }}
                </div>

                <div class="col-xs-6">
                  <input class="w-100 my-1 border-0" type="range" steps="1" [min]="graphInputData.start_date_graph_slider" [max]="graphInputData.end_date_graph_slider" [value]="currentDate"  (change)="updateDate($event)"/>
                </div>

                <div class="col-xs-3 text-right ml-2">
                  {{ graphInputData.end_date_graph_slider }}
                </div>

              </div>

          </div>

        </div>

      </div>
    </div>
  </div>
</section>

<ng-template #helpPopup>
  <div class="popup">
    <div class="content">
      Le graphe est interactif. N'hésitez pas à interagir, le contenu du CV s'adaptera en fonction de vos sélections.
    </div>
  </div>
</ng-template>
