"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[823],{2823:(E,y,c)=>{c.r(y),c.d(y,{MapGtfsViewerModule:()=>H});var u=c(9808),b=c(9444),x=c(9560),v=c(8407),r=c(4401),m=c(801);const L=m.uYr,M=m.Ybx,C=m.FGq,A=m.TL5,S=m.tho;!function I(){const i=new Date;i.setHours(0,0,0,0)}();var D=c(2397),t=c(5e3),d=c(7579),V=c(5993),_=c(520);let T=(()=>{class i{constructor(e){this.http=e,this.apiUrl=V.n+"api/v1/gtfs_builder/",this.mapContainer=new d.x,this.screenMapBound=new d.x,this.availableAreas=new d.x,this.ErrorapiUrlDataApiFound=new d.x,this.GeoData=new d.x,this.rangeDateData=new d.x,this.GeoDataToMap=new d.x}pullGeoData(e,s,a){this.http.get(this.apiUrl+e.toLowerCase()+"/moving_nodes_by_date?current_date="+s+"&bounds="+a).subscribe({complete:()=>{},error:n=>{this.ErrorapiUrlDataApiFound.next(n.error.message)},next:n=>{this.GeoData.next(n)}})}pullRangeDateData(e){this.http.get(this.apiUrl+e.toLowerCase()+"/range_dates").subscribe({complete:()=>{},error:s=>{this.ErrorapiUrlDataApiFound.next(s.error.message)},next:s=>{this.rangeDateData.next(s)}})}pullAvailableAreas(){this.http.get(this.apiUrl+"/existing_study_areas").subscribe({complete:()=>{},error:e=>{this.ErrorapiUrlDataApiFound.next(e.error.message)},next:e=>{this.availableAreas.next(e)}})}pullGeoDataToMap(e){this.GeoDataToMap.next(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(_.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var w=c(9947),Z=c(2313),F=c(3686);let f=(()=>{class i{constructor(){this.timeLineInputs=new d.x,this.dateUpdated=new d.x,this.defaultSpeedValue=new d.x,this.updatedSpeedValue=new d.x}pushTimeLineInputs(e,s,a){this.timeLineInputs.next({startDate:e,endDate:s,currentDate:a})}pushDateUpdated(e){this.dateUpdated.next(e)}pushDefaultSpeedValue(e){this.defaultSpeedValue.next(e)}pushUpdatedSpeedValue(e){this.updatedSpeedValue.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Y(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"span",15),t._uU(2,"Vitesse"),t.qZA(),t.TgZ(3,"div",16),t._uU(4,"-"),t.qZA(),t.TgZ(5,"div",17)(6,"input",18),t.NdJ("change",function(a){return t.CHM(e),t.oxw().updateStepValue(a)}),t.qZA()(),t.TgZ(7,"div",16),t._uU(8,"+"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("min",e.minStepValue)("max",e.maxStepValue)("step",e.minStepValue)("value",e.stepValue)}}let B=(()=>{class i{constructor(e,s){this.mapService=e,this.timelineService=s,this.backwardIcon=L,this.forwardIcon=M,this.tagIcon=S,this.timelineMarkerFontSize="35",this.sliderHandleTimeStyle=[{from:0,to:7,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"La nuit",brightness:60},{from:7,to:11,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"Le matin"},{from:11,to:14,font_unicode:"\uf185",color:"#d73027",stroke:"black",description:"Le milieu de journ\xe9e"},{from:14,to:19,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"L'apr\xe8s midi"},{from:19,to:24,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"Le soir"}],this.brightnessValuesAtEachHours=[.5,.5,.5,.5,.5,.65,.74,.83,.93,1,1,1,1,1,1,1,1,1,1,.93,.83,.72,.65,.5,.5],this.margin={top:10,right:15,bottom:0,left:15},this.width=500,this.height=90,this.selectedDatePosition=0,this.fontSize="14px",this.maxDatePosition=this.width-this.margin.left-this.margin.right,this.stepValue=4e3,this.minStepValue=500,this.timerStep=25,this.mapContainerSubscription=this.mapService.mapContainer.subscribe(a=>{this.mapContainer=a}),this.defaultSpeedValueSubscription=this.timelineService.defaultSpeedValue.subscribe(a=>{this.stepValue=a,this.maxStepValue=2*a-this.minStepValue}),this.updatedSpeedValueSubscription=this.timelineService.updatedSpeedValue.subscribe(a=>{this.stepValue=a}),this.notifyTimelineSubscription=this.timelineService.timeLineInputs.subscribe(a=>{this.startDate=a.startDate,this.endDate=a.endDate;const n=r.Z1g("%Y-%m-%d %H:%M:%S");this.currentDate=n(a.currentDate),this.buildTimeline()})}ngOnInit(){this.mapService.getMapContainer()}ngOnDestroy(){this.mapContainerSubscription.unsubscribe(),this.notifyTimelineSubscription.unsubscribe(),this.setMapTileBrightness()}updateStepValue(e){this.stepValue=e.target.value}buildTimeline(){r.td_(".slider-bar").remove();const e=r.Ys("#"+this.timeLineId),s=r.Ys("#play-button");this.initDateRange();const a=e.append("g").attr("class","slider-bar").attr("transform",`translate(${this.margin.left},${this.height/2})`);a.append("line").attr("class","track").attr("x1",this.dateRange.range()[0]).attr("x2",this.dateRange.range()[1]).select((o,h,g)=>g[h].parentNode.appendChild(g[h].cloneNode(!0))).attr("class","track-inset").select((o,h,g)=>g[h].parentNode.appendChild(g[h].cloneNode(!0))).attr("class","track-overlay").call(r.ohM().on("drag start",o=>{s.text("Pause"),s.dispatch("click"),this.selectedDatePosition=o.x,this.update(this.dateRange.invert(this.selectedDatePosition)),r.Ys("#timeline-slider .events").selectAll("circle").style("pointer-events","none")}).on("end",o=>{this.mapContainer.dragging.enable(),r.Ys("#timeline-slider .events").selectAll("circle").style("pointer-events","all"),null!==this.startDate&&null!==this.endDate&&(this.dateRange.invert(this.selectedDatePosition).toTimeString()===this.endDate.toTimeString()||this.dateRange.invert(this.selectedDatePosition).toTimeString()===this.startDate.toTimeString()?s.text("Play"):s.text("Continue"))})),a.insert("g",".track-overlay").attr("class","ticks").attr("transform","translate(0,21)").selectAll("text").data(this.dateRange.ticks(10)).enter().append("text").attr("x",this.dateRange).attr("y",0).style("font-size",this.fontSize).attr("text-anchor","middle").text(o=>this.formatDateToTimeString(o)),a.insert("g",".track-overlay").attr("class","ticks-line").attr("transform","translate(0,-6)").selectAll("line").data(this.dateRange.ticks(10)).enter().append("line").attr("x1",this.dateRange).attr("x2",this.dateRange).attr("y1",0).attr("y2",12).style("stroke","grey").style("stroke-width","2px"),a.insert("g",".track-overlay").attr("class","trace-events");const p=a.insert("line",".track-overlay").attr("id","trace").attr("x1",this.dateRange(this.startDate)).attr("x2",this.dateRange(this.currentDate));this.sliderDayStyleEnabled?a.insert("text",".track-overlay").attr("id","handle-timeline").attr("class","marker-fontawesome fa-solid").attr("font-size",this.timelineMarkerFontSize):a.insert("circle",".track-overlay").attr("id","handle-timeline").attr("r",10),a.append("g").attr("class","events"),this.update(this.currentDate),this.selectedDatePosition=parseInt(p.attr("x2"))}updateHandleTimelineStyleFromTime(e){let s=e.getHours(),a=this.sliderHandleTimeStyle.filter(n=>s>=n.from&&s<n.to)[0];r.Ys("#handle-timeline").style("fill",a.color).style("stroke",a.stroke).style("stroke-width","1px").text(a.font_unicode),this.setMapTileBrightness(s)}setMapTileBrightness(e){const s=r.td_(".leaflet-layer");void 0!==e?(s.style("filter",`brightness(${this.brightnessValuesAtEachHours[e]})`),console.log(this.brightnessValuesAtEachHours[e])):(s.style("filter","unset"),console.log("nada"))}initDateRange(){null!==this.startDate&&null!==this.endDate&&(this.dateRange=r.Xf().domain([this.startDate,this.endDate]).range([0,this.maxDatePosition]).clamp(!0))}formatDateToTimeString(e){return parseInt(r.i$Z("%H")(e))+" h."}formatDate(e){return r.i$Z("%Y-%m-%d %H:%M:%S")(e)}update(e){null!==e&&(this.timelineService.pushDateUpdated(this.formatDate(e)),r.Ys("#trace").attr("x2",this.dateRange(e)),this.currentDate=e,this.sliderDayStyleEnabled?(r.Ys("#handle-timeline").attr("x",this.dateRange(e)),this.updateHandleTimelineStyleFromTime(e)):r.Ys("#handle-timeline").attr("cx",this.dateRange(e)))}step(){this.update(this.dateRange.invert(this.selectedDatePosition)),this.selectedDatePosition=this.selectedDatePosition+this.maxDatePosition/this.stepValue,this.selectedDatePosition>this.maxDatePosition&&this.forwardTimeLine()}startTimeLine(){const e=r.Ys("#play-button");"Pause"===e.html()?(clearInterval(this.timer),e.text("Continue")):(e.html(),this.timer=setInterval(this.step.bind(this),this.timerStep),e.html("Pause"))}resetTimeLine(){r.Ys("#play-button").html("Start"),this.currentDate=this.startDate,this.update(this.startDate),this.selectedDatePosition=0,clearInterval(this.timer)}forwardTimeLine(){r.Ys("#play-button").html("Play"),this.currentDate=this.startDate,this.update(this.endDate),this.selectedDatePosition=0,clearInterval(this.timer)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(w.S),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-time-line"]],inputs:{timeLineId:"timeLineId",timeLineSpeedSliderEnabled:"timeLineSpeedSliderEnabled",sliderDayStyleEnabled:"sliderDayStyleEnabled"},decls:20,vars:9,consts:[["id","theme-legend",1,"d-flex","flex-column","flex-lg-row","mt-auto","justify-content-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[3,"id"],[1,"text-center","px-5"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-auto"],[1,"mb-2"],["id","slider-value",1,"fw-bold"],[1,"d-flex","flex-row","flex-lg-column","justify-content-center","align-items-center","mt-auto"],[1,"d-flex","flex-row","align-items-center"],["id","start-button","role","button",1,"btn","btn-dark","btn-sm",3,"click"],[3,"icon"],["id","play-button","role","button",1,"btn","btn-dark","mx-2",3,"click"],["id","end-button","role","button",1,"btn","btn-dark","btn-sm",3,"click"],["class","row justify-content-center mt-2",4,"ngIf"],[1,"row","justify-content-center","mt-2"],[1,"fw-bold"],[1,"col-1"],[1,"col-8","px-0"],["id","speed-slider","type","range",1,"form-range",3,"min","max","step","value","change"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h6"),t._uU(3,"Barre Temporelle"),t.qZA(),t.O4$(),t._UZ(4,"svg",2),t.qZA(),t.kcU(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"span",6),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div",7)(12,"div",8)(13,"a",9),t.NdJ("click",function(){return s.resetTimeLine()}),t._UZ(14,"fa-icon",10),t.qZA(),t.TgZ(15,"a",11),t.NdJ("click",function(){return s.startTimeLine()}),t._uU(16,"Play"),t.qZA(),t.TgZ(17,"a",12),t.NdJ("click",function(){return s.forwardTimeLine()}),t._UZ(18,"fa-icon",10),t.qZA()(),t.YNc(19,Y,9,4,"div",13),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("id",s.timeLineId),t.uIk("viewBox","0 0 "+s.width+" "+s.height),t.xp6(5),t.Oqu(t.xi3(10,6,s.currentDate,"dd MMMM y HH:mm")),t.xp6(5),t.Q6J("icon",s.backwardIcon),t.xp6(4),t.Q6J("icon",s.forwardIcon),t.xp6(1),t.Q6J("ngIf",s.timeLineSpeedSliderEnabled))},directives:[b.BN,u.O5],pipes:[u.uU],styles:['.events circle{stroke-width:1px;opacity:1;stroke:#f8f8ff}.trace-events circle.trace{fill:#686868;opacity:.7;stroke:#f8f8ff;stroke-width:3px;stroke-opacity:1}.ticks{font-size:10px}.track,.track-inset,.track-overlay{stroke-linecap:round}.track{stroke:#000;stroke-opacity:.3;stroke-width:13px}.track-inset{stroke:#dcdcdc;stroke-width:11px}.track-overlay{pointer-events:stroke;stroke-width:50px;stroke:transparent;cursor:pointer}#handle-timeline{fill:#fff;stroke:#000;stroke-opacity:.5;stroke-width:1.25px}svg #trace{stroke:#6c6c6c;stroke-width:4}#play-button{width:90px}circle.preselected{stroke:#000!important;stroke-width:2px!important}#timeline-slider{width:33em}@media (max-width: 576px){#timeline-slider{width:20em}}#speed-slider{transform:rotate(180deg)}.marker-fontawesome{font-family:"Font Awesome 5 Free";text-anchor:middle;dominant-baseline:middle;pointer-events:none}\n'],encapsulation:2}),i})();function P(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"label",7)(1,"input",8),t.NdJ("click",function(){const n=t.CHM(e).$implicit;return t.oxw().updateData(n)}),t.qZA(),t._uU(2),t.qZA()}if(2&i){const e=l.$implicit,s=t.oxw();t.xp6(1),t.Q6J("checked",s.currentArea===e),t.xp6(1),t.hij(" ",e.charAt(0).toUpperCase()+e.slice(1)," ")}}const U=[{path:"",component:(()=>{class i{constructor(e,s,a,n,p,k){this.dataService=e,this.mapService=s,this.activatedRoute=a,this.titleService=n,this.controlerService=p,this.timelineService=k,this.locationIcon=C,this.tagIcon=S,this.centerIcon=A,this.input_data=[{area:"lyon",default_step_value:4e3},{area:"ter",default_step_value:1500},{area:"toulouse",default_step_value:4e3}],this.currentArea=this.input_data[1].area,this.currentstepValue=this.input_data[1].default_step_value,this.endDate=D.cQ,this.startDate=D.cQ,this.isGeodataCanBeDisplayed=!1,this.isLegendDisplayed=!0,this.pi2=2*Math.PI,this.radius=3,this.zoomCanvasLimit=8,this.popupWidth=100,this.popupHeight=100,this.svgLayerId="svgLayer",this.canvasLayerId="canvasLayer",this.circleOpacity=.7,this.circleStroke="ghostwhite",this.circleWidth="1px",this.mappingColors={0:"red",1:"blue",2:"brown"},this.defaultColor="brown",this.titleService.setTitle(this.activatedRoute.snapshot.data.title),this.zoomEventSubscription=this.mapService.zoomEvent.subscribe(o=>{this.mapService.sendZoomMapFromBounds(this.dataBoundingBox)}),this.mapContainerSubscription=this.mapService.mapContainer.subscribe(o=>{this.mapContainer=o,this.initnodesSvgLayer(),this.initCircleCanvasLayer()}),this.screenMapBoundSubscription=this.mapService.screenMapBound.subscribe(o=>{this.dataBoundingBox=o,this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}),this.pullGeoDataToMapSubscription=this.dataService.GeoDataToMap.subscribe(o=>{this.geoFeaturesData=o,this.mapContainer.getZoom()<=this.zoomCanvasLimit?(this.clearSvgNodesMapping(),this.canvasNodesMapping(this.geoFeaturesData)):(this.clearCanvasNodesMapping(),this.svgNodesMapping(o))}),this.pullBoundingBoxDataSubscription=this.dataService.rangeDateData.subscribe(o=>{if(this.dataBoundingBox=o.data_bounds,this.startDate=this.parseTime(o.start_date),null!==this.startDate){this.endDate=this.parseTime(o.end_date);const h=new Date;this.currentDate=`${o.start_date.split(" ")[0]} ${h.toISOString().split("T")[1].split(".")[0]}`,this.timelineService.pushTimeLineInputs(this.startDate,this.endDate,this.currentDate),this.mapService.sendZoomMapFromBounds(this.dataBoundingBox)}}),this.dateUpdatedSubscription=this.timelineService.dateUpdated.subscribe(o=>{this.currentDate=o,this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}),this.pullGeoDataSubscription=this.dataService.GeoData.subscribe(o=>{this.geoData=o,null!==this.geoData&&null!==this.currentDate&&this.dataService.pullGeoDataToMap(this.geoData)}),this.pullAvailableAreasSubscription=this.dataService.availableAreas.subscribe(o=>{this.availableArea=o})}ngOnInit(){this.sendResumeSubMenus(),this.mapService.getMapContainer(),this.dataService.pullAvailableAreas(),this.updateData(this.currentArea),this.innerWidth=window.screen.width,this.innerHeight=window.screen.height}sendResumeSubMenus(){this.controlerService.pullSubMenus([]),this.controlerService.pullTitlePage(this.activatedRoute.snapshot.data.title),this.titleService.setTitle(this.activatedRoute.snapshot.data.title)}ngOnDestroy(){this.mapContainerSubscription.unsubscribe(),this.pullGeoDataToMapSubscription.unsubscribe(),this.pullBoundingBoxDataSubscription.unsubscribe(),this.pullGeoDataSubscription.unsubscribe(),this.zoomEventSubscription.unsubscribe(),this.screenMapBoundSubscription.unsubscribe(),this.pullAvailableAreasSubscription.unsubscribe(),this.dateUpdatedSubscription.unsubscribe(),r.Ys("#"+this.svgLayerId).remove(),r.Ys("#"+this.canvasLayerId).remove(),this.mapService.resetMapView()}parseTime(e){return r.Z1g("%Y-%m-%d %H:%M:%S")(e)}updateData(e){const s=this.input_data.filter(a=>a.area===e);this.currentArea=e,this.currentstepValue=s[0].default_step_value,this.dataService.pullRangeDateData(this.currentArea),this.timelineService.pushDefaultSpeedValue(this.currentstepValue)}showHideLegend(){this.isLegendDisplayed=!this.isLegendDisplayed}initnodesSvgLayer(){const e=v.svg().addTo(this.mapContainer);r.Ys(e._container).attr("id",this.svgLayerId).attr("pointer-events","auto").select("g").attr("class","leaflet-zoom-hide").attr("id","nodes-container")}initCircleCanvasLayer(){(new v.Canvas).addTo(this.mapContainer),r.Ys("canvas:not(#tooltips)").attr("id",this.canvasLayerId),this.canvas=document.querySelector("#"+this.canvasLayerId),this.context=this.canvas.getContext("2d")}clearCanvasNodesMapping(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore()}canvasNodesMapping(e){let s;for(this.clearCanvasNodesMapping(),this.context.lineCap="round",s=0;s<e.length;s++){this.context.beginPath();const a=e[s],n=this.mapContainer.latLngToLayerPoint(new v.LatLng(a.y,a.x));this.context.lineWidth=2.7*this.radius,this.context.strokeStyle="white",this.context.moveTo(n.x,n.y),this.context.lineTo(n.x,n.y),this.context.stroke(),this.context.lineWidth=2.1*this.radius,this.context.strokeStyle=this.mappingColors[a.route_type],this.context.moveTo(n.x,n.y),this.context.lineTo(n.x,n.y),this.context.stroke()}}clearSvgNodesMapping(){r.td_("#nodes-container a").remove()}svgNodesMapping(e){this.clearSvgNodesMapping();const a=r.Ys("#nodes-container").selectAll(".node").data(e,n=>n.stop_code);a.enter().append("a").attr("xlink:href",n=>"#/resume#"+n.id).append("circle").style("opacity",1).attr("stroke",this.circleStroke).attr("fill",n=>this.mappingColors[n.route_type]).attr("r","4").attr("stroke-width",this.circleWidth).on("mouseover",(n,p)=>{r.Ys("html").append("div").attr("id","popup-stop").style("width",this.popupWidth+"px"),r.Ys("#popup-stop").attr("class","text-black bg-white border rounded shadow").style("position","absolute").style("visibility","visible").style("left",()=>n.x+this.popupWidth+20>this.innerWidth?n.x-this.popupWidth-15+"px":n.x+15+"px").style("top",()=>n.y+this.popupHeight+20>this.innerHeight?n.y-this.popupHeight-15+"px":n.y+15+"px").text(p.route_long_name)}).on("mousemove",(n,p)=>{}).on("mouseout",(n,p)=>{r.Ys("#popup-stop").remove()}),a.exit().remove(),this.mapContainer.on("moveend",this.reset.bind(this)),this.reset()}reset(){r.Ys("#"+this.svgLayerId).selectAll("circle").attr("transform",e=>"translate("+this.applyLatLngToLayer(e).x+","+this.applyLatLngToLayer(e).y+")")}applyLatLngToLayer(e){return this.mapContainer.latLngToLayerPoint(new v.LatLng(e.y,e.x))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T),t.Y36(w.S),t.Y36(x.gz),t.Y36(Z.Dx),t.Y36(F.L),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-map-view"]],decls:15,vars:3,consts:[[1,"row","justify-content-around"],[1,"col-6","col-lg-2","my-2"],[1,"col-lg-12"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],["class","btn btn-secondary btn-sm",4,"ngFor","ngForOf"],[1,"col-12","col-lg-7","my-2"],["timeLineId","timeline-slider",3,"timeLineSpeedSliderEnabled","sliderDayStyleEnabled"],[1,"btn","btn-secondary","btn-sm"],["type","radio","name","options","id","option1","autocomplete","off",3,"checked","click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h6"),t._uU(3,"GTFS"),t.qZA(),t.TgZ(4,"div",2)(5,"div",3),t.YNc(6,P,3,2,"label",4),t.qZA()()(),t.TgZ(7,"div",1)(8,"h6"),t._uU(9,"Modes de transport"),t.qZA(),t.TgZ(10,"div",2)(11,"p"),t._uU(12,"[TODO]"),t.qZA()()(),t.TgZ(13,"div",5),t._UZ(14,"app-time-line",6),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",s.availableArea),t.xp6(8),t.Q6J("timeLineSpeedSliderEnabled",!0)("sliderDayStyleEnabled",!0))},directives:[u.sg,B],styles:['.legend-container[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.legend-content[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5;box-shadow:0 -5px 20px #00000080}.legend-title[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5}.map-popup[_ngcontent-%COMP%]{position:absolute;visibility:hidden;background-color:#f8f8ff;width:350px}']}),i})(),data:{title:"GTFS viewer",page:"map-gtfs-viewer"},outlet:"map-gtfs-viewer"}];let R=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[x.Bz.forChild(U)],x.Bz]}),i})(),G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[f],imports:[[u.ez,b.uH]]}),i})(),H=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[f,T],imports:[[u.ez,R,b.uH,G]]}),i})()}}]);